function Ni(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ki(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var s=r.default;if(typeof s=="function"){var I=function m(){var S=!1;try{S=this instanceof m}catch{}return S?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};I.prototype=s.prototype}else I={};return Object.defineProperty(I,"__esModule",{value:!0}),Object.keys(r).forEach(function(m){var S=Object.getOwnPropertyDescriptor(r,m);Object.defineProperty(I,m,S.get?S:{enumerable:!0,get:function(){return r[m]}})}),I}var Ft={},Ue={},Yt;function $n(){if(Yt)return Ue;Yt=1,Ue.byteLength=n,Ue.toByteArray=P,Ue.fromByteArray=E;for(var r=[],s=[],I=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,c=m.length;S<c;++S)r[S]=m[S],s[m.charCodeAt(S)]=S;s[45]=62,s[95]=63;function h(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");b===-1&&(b=v);var u=b===v?0:4-b%4;return[b,u]}function n(p){var v=h(p),b=v[0],u=v[1];return(b+u)*3/4-u}function w(p,v,b){return(v+b)*3/4-b}function P(p){var v,b=h(p),u=b[0],f=b[1],i=new I(w(p,u,f)),l=0,$=f>0?u-4:u,o;for(o=0;o<$;o+=4)v=s[p.charCodeAt(o)]<<18|s[p.charCodeAt(o+1)]<<12|s[p.charCodeAt(o+2)]<<6|s[p.charCodeAt(o+3)],i[l++]=v>>16&255,i[l++]=v>>8&255,i[l++]=v&255;return f===2&&(v=s[p.charCodeAt(o)]<<2|s[p.charCodeAt(o+1)]>>4,i[l++]=v&255),f===1&&(v=s[p.charCodeAt(o)]<<10|s[p.charCodeAt(o+1)]<<4|s[p.charCodeAt(o+2)]>>2,i[l++]=v>>8&255,i[l++]=v&255),i}function _(p){return r[p>>18&63]+r[p>>12&63]+r[p>>6&63]+r[p&63]}function N(p,v,b){for(var u,f=[],i=v;i<b;i+=3)u=(p[i]<<16&16711680)+(p[i+1]<<8&65280)+(p[i+2]&255),f.push(_(u));return f.join("")}function E(p){for(var v,b=p.length,u=b%3,f=[],i=16383,l=0,$=b-u;l<$;l+=i)f.push(N(p,l,l+i>$?$:l+i));return u===1?(v=p[b-1],f.push(r[v>>2]+r[v<<4&63]+"==")):u===2&&(v=(p[b-2]<<8)+p[b-1],f.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),f.join("")}return Ue}var ze={};var Xt;function En(){return Xt||(Xt=1,ze.read=function(r,s,I,m,S){var c,h,n=S*8-m-1,w=(1<<n)-1,P=w>>1,_=-7,N=I?S-1:0,E=I?-1:1,p=r[s+N];for(N+=E,c=p&(1<<-_)-1,p>>=-_,_+=n;_>0;c=c*256+r[s+N],N+=E,_-=8);for(h=c&(1<<-_)-1,c>>=-_,_+=m;_>0;h=h*256+r[s+N],N+=E,_-=8);if(c===0)c=1-P;else{if(c===w)return h?NaN:(p?-1:1)*(1/0);h=h+Math.pow(2,m),c=c-P}return(p?-1:1)*h*Math.pow(2,c-m)},ze.write=function(r,s,I,m,S,c){var h,n,w,P=c*8-S-1,_=(1<<P)-1,N=_>>1,E=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=m?0:c-1,v=m?1:-1,b=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(n=isNaN(s)?1:0,h=_):(h=Math.floor(Math.log(s)/Math.LN2),s*(w=Math.pow(2,-h))<1&&(h--,w*=2),h+N>=1?s+=E/w:s+=E*Math.pow(2,1-N),s*w>=2&&(h++,w/=2),h+N>=_?(n=0,h=_):h+N>=1?(n=(s*w-1)*Math.pow(2,S),h=h+N):(n=s*Math.pow(2,N-1)*Math.pow(2,S),h=0));S>=8;r[I+p]=n&255,p+=v,n/=256,S-=8);for(h=h<<S|n,P+=S;P>0;r[I+p]=h&255,p+=v,h/=256,P-=8);r[I+p-v]|=b*128}),ze}var Qt;function bn(){return Qt||(Qt=1,(function(r){const s=$n(),I=En(),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=n,r.SlowBuffer=i,r.INSPECT_MAX_BYTES=50;const S=2147483647;r.kMaxLength=S,n.TYPED_ARRAY_SUPPORT=c(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const a=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(a,e),a.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function h(a){if(a>S)throw new RangeError('The value "'+a+'" is invalid for option "size"');const e=new Uint8Array(a);return Object.setPrototypeOf(e,n.prototype),e}function n(a,e,t){if(typeof a=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(a)}return w(a,e,t)}n.poolSize=8192;function w(a,e,t){if(typeof a=="string")return E(a,e);if(ArrayBuffer.isView(a))return v(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(me(a,ArrayBuffer)||a&&me(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(a,SharedArrayBuffer)||a&&me(a.buffer,SharedArrayBuffer)))return b(a,e,t);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=a.valueOf&&a.valueOf();if(y!=null&&y!==a)return n.from(y,e,t);const O=u(a);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return n.from(a[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}n.from=function(a,e,t){return w(a,e,t)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function P(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function _(a,e,t){return P(a),a<=0?h(a):e!==void 0?typeof t=="string"?h(a).fill(e,t):h(a).fill(e):h(a)}n.alloc=function(a,e,t){return _(a,e,t)};function N(a){return P(a),h(a<0?0:f(a)|0)}n.allocUnsafe=function(a){return N(a)},n.allocUnsafeSlow=function(a){return N(a)};function E(a,e){if((typeof e!="string"||e==="")&&(e="utf8"),!n.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=l(a,e)|0;let y=h(t);const O=y.write(a,e);return O!==t&&(y=y.slice(0,O)),y}function p(a){const e=a.length<0?0:f(a.length)|0,t=h(e);for(let y=0;y<e;y+=1)t[y]=a[y]&255;return t}function v(a){if(me(a,Uint8Array)){const e=new Uint8Array(a);return b(e.buffer,e.byteOffset,e.byteLength)}return p(a)}function b(a,e,t){if(e<0||a.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let y;return e===void 0&&t===void 0?y=new Uint8Array(a):t===void 0?y=new Uint8Array(a,e):y=new Uint8Array(a,e,t),Object.setPrototypeOf(y,n.prototype),y}function u(a){if(n.isBuffer(a)){const e=f(a.length)|0,t=h(e);return t.length===0||a.copy(t,0,0,e),t}if(a.length!==void 0)return typeof a.length!="number"||_e(a.length)?h(0):p(a);if(a.type==="Buffer"&&Array.isArray(a.data))return p(a.data)}function f(a){if(a>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return a|0}function i(a){return+a!=a&&(a=0),n.alloc(+a)}n.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==n.prototype},n.compare=function(e,t){if(me(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),me(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let y=e.length,O=t.length;for(let C=0,D=Math.min(y,O);C<D;++C)if(e[C]!==t[C]){y=e[C],O=t[C];break}return y<O?-1:O<y?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return n.alloc(0);let y;if(t===void 0)for(t=0,y=0;y<e.length;++y)t+=e[y].length;const O=n.allocUnsafe(t);let C=0;for(y=0;y<e.length;++y){let D=e[y];if(me(D,Uint8Array))C+D.length>O.length?(n.isBuffer(D)||(D=n.from(D)),D.copy(O,C)):Uint8Array.prototype.set.call(O,D,C);else if(n.isBuffer(D))D.copy(O,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=D.length}return O};function l(a,e){if(n.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||me(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);const t=a.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&t===0)return 0;let O=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return he(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return pe(a).length;default:if(O)return y?-1:he(a).length;e=(""+e).toLowerCase(),O=!0}}n.byteLength=l;function $(a,e,t){let y=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(a||(a="utf8");;)switch(a){case"hex":return Re(this,e,t);case"utf8":case"utf-8":return re(this,e,t);case"ascii":return Se(this,e,t);case"latin1":case"binary":return oe(this,e,t);case"base64":return W(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t);default:if(y)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),y=!0}}n.prototype._isBuffer=!0;function o(a,e,t){const y=a[e];a[e]=a[t],a[t]=y}n.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)o(this,t,t+1);return this},n.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)o(this,t,t+3),o(this,t+1,t+2);return this},n.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)o(this,t,t+7),o(this,t+1,t+6),o(this,t+2,t+5),o(this,t+3,t+4);return this},n.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?re(this,0,e):$.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:n.compare(this,e)===0},n.prototype.inspect=function(){let e="";const t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},m&&(n.prototype[m]=n.prototype.inspect),n.prototype.compare=function(e,t,y,O,C){if(me(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),y===void 0&&(y=e?e.length:0),O===void 0&&(O=0),C===void 0&&(C=this.length),t<0||y>e.length||O<0||C>this.length)throw new RangeError("out of range index");if(O>=C&&t>=y)return 0;if(O>=C)return-1;if(t>=y)return 1;if(t>>>=0,y>>>=0,O>>>=0,C>>>=0,this===e)return 0;let D=C-O,ee=y-t;const le=Math.min(D,ee),ue=this.slice(O,C),fe=e.slice(t,y);for(let ae=0;ae<le;++ae)if(ue[ae]!==fe[ae]){D=ue[ae],ee=fe[ae];break}return D<ee?-1:ee<D?1:0};function g(a,e,t,y,O){if(a.length===0)return-1;if(typeof t=="string"?(y=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,_e(t)&&(t=O?0:a.length-1),t<0&&(t=a.length+t),t>=a.length){if(O)return-1;t=a.length-1}else if(t<0)if(O)t=0;else return-1;if(typeof e=="string"&&(e=n.from(e,y)),n.isBuffer(e))return e.length===0?-1:R(a,e,t,y,O);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(a,e,t):Uint8Array.prototype.lastIndexOf.call(a,e,t):R(a,[e],t,y,O);throw new TypeError("val must be string, number or Buffer")}function R(a,e,t,y,O){let C=1,D=a.length,ee=e.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(a.length<2||e.length<2)return-1;C=2,D/=2,ee/=2,t/=2}function le(fe,ae){return C===1?fe[ae]:fe.readUInt16BE(ae*C)}let ue;if(O){let fe=-1;for(ue=t;ue<D;ue++)if(le(a,ue)===le(e,fe===-1?0:ue-fe)){if(fe===-1&&(fe=ue),ue-fe+1===ee)return fe*C}else fe!==-1&&(ue-=ue-fe),fe=-1}else for(t+ee>D&&(t=D-ee),ue=t;ue>=0;ue--){let fe=!0;for(let ae=0;ae<ee;ae++)if(le(a,ue+ae)!==le(e,ae)){fe=!1;break}if(fe)return ue}return-1}n.prototype.includes=function(e,t,y){return this.indexOf(e,t,y)!==-1},n.prototype.indexOf=function(e,t,y){return g(this,e,t,y,!0)},n.prototype.lastIndexOf=function(e,t,y){return g(this,e,t,y,!1)};function F(a,e,t,y){t=Number(t)||0;const O=a.length-t;y?(y=Number(y),y>O&&(y=O)):y=O;const C=e.length;y>C/2&&(y=C/2);let D;for(D=0;D<y;++D){const ee=parseInt(e.substr(D*2,2),16);if(_e(ee))return D;a[t+D]=ee}return D}function x(a,e,t,y){return ce(he(e,a.length-t),a,t,y)}function z(a,e,t,y){return ce(we(e),a,t,y)}function K(a,e,t,y){return ce(pe(e),a,t,y)}function Y(a,e,t,y){return ce(ge(e,a.length-t),a,t,y)}n.prototype.write=function(e,t,y,O){if(t===void 0)O="utf8",y=this.length,t=0;else if(y===void 0&&typeof t=="string")O=t,y=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(y)?(y=y>>>0,O===void 0&&(O="utf8")):(O=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const C=this.length-t;if((y===void 0||y>C)&&(y=C),e.length>0&&(y<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let D=!1;for(;;)switch(O){case"hex":return F(this,e,t,y);case"utf8":case"utf-8":return x(this,e,t,y);case"ascii":case"latin1":case"binary":return z(this,e,t,y);case"base64":return K(this,e,t,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,e,t,y);default:if(D)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),D=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(a,e,t){return e===0&&t===a.length?s.fromByteArray(a):s.fromByteArray(a.slice(e,t))}function re(a,e,t){t=Math.min(a.length,t);const y=[];let O=e;for(;O<t;){const C=a[O];let D=null,ee=C>239?4:C>223?3:C>191?2:1;if(O+ee<=t){let le,ue,fe,ae;switch(ee){case 1:C<128&&(D=C);break;case 2:le=a[O+1],(le&192)===128&&(ae=(C&31)<<6|le&63,ae>127&&(D=ae));break;case 3:le=a[O+1],ue=a[O+2],(le&192)===128&&(ue&192)===128&&(ae=(C&15)<<12|(le&63)<<6|ue&63,ae>2047&&(ae<55296||ae>57343)&&(D=ae));break;case 4:le=a[O+1],ue=a[O+2],fe=a[O+3],(le&192)===128&&(ue&192)===128&&(fe&192)===128&&(ae=(C&15)<<18|(le&63)<<12|(ue&63)<<6|fe&63,ae>65535&&ae<1114112&&(D=ae))}}D===null?(D=65533,ee=1):D>65535&&(D-=65536,y.push(D>>>10&1023|55296),D=56320|D&1023),y.push(D),O+=ee}return Ee(y)}const de=4096;function Ee(a){const e=a.length;if(e<=de)return String.fromCharCode.apply(String,a);let t="",y=0;for(;y<e;)t+=String.fromCharCode.apply(String,a.slice(y,y+=de));return t}function Se(a,e,t){let y="";t=Math.min(a.length,t);for(let O=e;O<t;++O)y+=String.fromCharCode(a[O]&127);return y}function oe(a,e,t){let y="";t=Math.min(a.length,t);for(let O=e;O<t;++O)y+=String.fromCharCode(a[O]);return y}function Re(a,e,t){const y=a.length;(!e||e<0)&&(e=0),(!t||t<0||t>y)&&(t=y);let O="";for(let C=e;C<t;++C)O+=De[a[C]];return O}function L(a,e,t){const y=a.slice(e,t);let O="";for(let C=0;C<y.length-1;C+=2)O+=String.fromCharCode(y[C]+y[C+1]*256);return O}n.prototype.slice=function(e,t){const y=this.length;e=~~e,t=t===void 0?y:~~t,e<0?(e+=y,e<0&&(e=0)):e>y&&(e=y),t<0?(t+=y,t<0&&(t=0)):t>y&&(t=y),t<e&&(t=e);const O=this.subarray(e,t);return Object.setPrototypeOf(O,n.prototype),O};function j(a,e,t){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+e>t)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(e,t,y){e=e>>>0,t=t>>>0,y||j(e,t,this.length);let O=this[e],C=1,D=0;for(;++D<t&&(C*=256);)O+=this[e+D]*C;return O},n.prototype.readUintBE=n.prototype.readUIntBE=function(e,t,y){e=e>>>0,t=t>>>0,y||j(e,t,this.length);let O=this[e+--t],C=1;for(;t>0&&(C*=256);)O+=this[e+--t]*C;return O},n.prototype.readUint8=n.prototype.readUInt8=function(e,t){return e=e>>>0,t||j(e,1,this.length),this[e]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||j(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||j(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readBigUInt64LE=be(function(e){e=e>>>0,U(e,"offset");const t=this[e],y=this[e+7];(t===void 0||y===void 0)&&V(e,this.length-8);const O=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,C=this[++e]+this[++e]*2**8+this[++e]*2**16+y*2**24;return BigInt(O)+(BigInt(C)<<BigInt(32))}),n.prototype.readBigUInt64BE=be(function(e){e=e>>>0,U(e,"offset");const t=this[e],y=this[e+7];(t===void 0||y===void 0)&&V(e,this.length-8);const O=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],C=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+y;return(BigInt(O)<<BigInt(32))+BigInt(C)}),n.prototype.readIntLE=function(e,t,y){e=e>>>0,t=t>>>0,y||j(e,t,this.length);let O=this[e],C=1,D=0;for(;++D<t&&(C*=256);)O+=this[e+D]*C;return C*=128,O>=C&&(O-=Math.pow(2,8*t)),O},n.prototype.readIntBE=function(e,t,y){e=e>>>0,t=t>>>0,y||j(e,t,this.length);let O=t,C=1,D=this[e+--O];for(;O>0&&(C*=256);)D+=this[e+--O]*C;return C*=128,D>=C&&(D-=Math.pow(2,8*t)),D},n.prototype.readInt8=function(e,t){return e=e>>>0,t||j(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},n.prototype.readInt16LE=function(e,t){e=e>>>0,t||j(e,2,this.length);const y=this[e]|this[e+1]<<8;return y&32768?y|4294901760:y},n.prototype.readInt16BE=function(e,t){e=e>>>0,t||j(e,2,this.length);const y=this[e+1]|this[e]<<8;return y&32768?y|4294901760:y},n.prototype.readInt32LE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readBigInt64LE=be(function(e){e=e>>>0,U(e,"offset");const t=this[e],y=this[e+7];(t===void 0||y===void 0)&&V(e,this.length-8);const O=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(y<<24);return(BigInt(O)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),n.prototype.readBigInt64BE=be(function(e){e=e>>>0,U(e,"offset");const t=this[e],y=this[e+7];(t===void 0||y===void 0)&&V(e,this.length-8);const O=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(O)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+y)}),n.prototype.readFloatLE=function(e,t){return e=e>>>0,t||j(e,4,this.length),I.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return e=e>>>0,t||j(e,4,this.length),I.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||j(e,8,this.length),I.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||j(e,8,this.length),I.read(this,e,!1,52,8)};function B(a,e,t,y,O,C){if(!n.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>O||e<C)throw new RangeError('"value" argument is out of bounds');if(t+y>a.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(e,t,y,O){if(e=+e,t=t>>>0,y=y>>>0,!O){const ee=Math.pow(2,8*y)-1;B(this,e,t,y,ee,0)}let C=1,D=0;for(this[t]=e&255;++D<y&&(C*=256);)this[t+D]=e/C&255;return t+y},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(e,t,y,O){if(e=+e,t=t>>>0,y=y>>>0,!O){const ee=Math.pow(2,8*y)-1;B(this,e,t,y,ee,0)}let C=y-1,D=1;for(this[t+C]=e&255;--C>=0&&(D*=256);)this[t+C]=e/D&255;return t+y},n.prototype.writeUint8=n.prototype.writeUInt8=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,1,255,0),this[t]=e&255,t+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function q(a,e,t,y,O){A(e,y,O,a,t,7);let C=Number(e&BigInt(4294967295));a[t++]=C,C=C>>8,a[t++]=C,C=C>>8,a[t++]=C,C=C>>8,a[t++]=C;let D=Number(e>>BigInt(32)&BigInt(4294967295));return a[t++]=D,D=D>>8,a[t++]=D,D=D>>8,a[t++]=D,D=D>>8,a[t++]=D,t}function d(a,e,t,y,O){A(e,y,O,a,t,7);let C=Number(e&BigInt(4294967295));a[t+7]=C,C=C>>8,a[t+6]=C,C=C>>8,a[t+5]=C,C=C>>8,a[t+4]=C;let D=Number(e>>BigInt(32)&BigInt(4294967295));return a[t+3]=D,D=D>>8,a[t+2]=D,D=D>>8,a[t+1]=D,D=D>>8,a[t]=D,t+8}n.prototype.writeBigUInt64LE=be(function(e,t=0){return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=be(function(e,t=0){return d(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(e,t,y,O){if(e=+e,t=t>>>0,!O){const le=Math.pow(2,8*y-1);B(this,e,t,y,le-1,-le)}let C=0,D=1,ee=0;for(this[t]=e&255;++C<y&&(D*=256);)e<0&&ee===0&&this[t+C-1]!==0&&(ee=1),this[t+C]=(e/D>>0)-ee&255;return t+y},n.prototype.writeIntBE=function(e,t,y,O){if(e=+e,t=t>>>0,!O){const le=Math.pow(2,8*y-1);B(this,e,t,y,le-1,-le)}let C=y-1,D=1,ee=0;for(this[t+C]=e&255;--C>=0&&(D*=256);)e<0&&ee===0&&this[t+C+1]!==0&&(ee=1),this[t+C]=(e/D>>0)-ee&255;return t+y},n.prototype.writeInt8=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},n.prototype.writeInt16LE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},n.prototype.writeInt16BE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},n.prototype.writeInt32LE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},n.prototype.writeInt32BE=function(e,t,y){return e=+e,t=t>>>0,y||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},n.prototype.writeBigInt64LE=be(function(e,t=0){return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=be(function(e,t=0){return d(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(a,e,t,y,O,C){if(t+y>a.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function M(a,e,t,y,O){return e=+e,t=t>>>0,O||k(a,e,t,4),I.write(a,e,t,y,23,4),t+4}n.prototype.writeFloatLE=function(e,t,y){return M(this,e,t,!0,y)},n.prototype.writeFloatBE=function(e,t,y){return M(this,e,t,!1,y)};function H(a,e,t,y,O){return e=+e,t=t>>>0,O||k(a,e,t,8),I.write(a,e,t,y,52,8),t+8}n.prototype.writeDoubleLE=function(e,t,y){return H(this,e,t,!0,y)},n.prototype.writeDoubleBE=function(e,t,y){return H(this,e,t,!1,y)},n.prototype.copy=function(e,t,y,O){if(!n.isBuffer(e))throw new TypeError("argument should be a Buffer");if(y||(y=0),!O&&O!==0&&(O=this.length),t>=e.length&&(t=e.length),t||(t=0),O>0&&O<y&&(O=y),O===y||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),e.length-t<O-y&&(O=e.length-t+y);const C=O-y;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,y,O):Uint8Array.prototype.set.call(e,this.subarray(y,O),t),C},n.prototype.fill=function(e,t,y,O){if(typeof e=="string"){if(typeof t=="string"?(O=t,t=0,y=this.length):typeof y=="string"&&(O=y,y=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!n.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(e.length===1){const D=e.charCodeAt(0);(O==="utf8"&&D<128||O==="latin1")&&(e=D)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<y)throw new RangeError("Out of range index");if(y<=t)return this;t=t>>>0,y=y===void 0?this.length:y>>>0,e||(e=0);let C;if(typeof e=="number")for(C=t;C<y;++C)this[C]=e;else{const D=n.isBuffer(e)?e:n.from(e,O),ee=D.length;if(ee===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(C=0;C<y-t;++C)this[C+t]=D[C%ee]}return this};const G={};function ne(a,e,t){G[a]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(a,e){return`The "${a}" argument must be of type number. Received type ${typeof e}`},TypeError),ne("ERR_OUT_OF_RANGE",function(a,e,t){let y=`The value of "${a}" is out of range.`,O=t;return Number.isInteger(t)&&Math.abs(t)>2**32?O=Z(String(t)):typeof t=="bigint"&&(O=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(O=Z(O)),O+="n"),y+=` It must be ${e}. Received ${O}`,y},RangeError);function Z(a){let e="",t=a.length;const y=a[0]==="-"?1:0;for(;t>=y+4;t-=3)e=`_${a.slice(t-3,t)}${e}`;return`${a.slice(0,t)}${e}`}function T(a,e,t){U(e,"offset"),(a[e]===void 0||a[e+t]===void 0)&&V(e,a.length-(t+1))}function A(a,e,t,y,O,C){if(a>t||a<e){const D=typeof e=="bigint"?"n":"";let ee;throw e===0||e===BigInt(0)?ee=`>= 0${D} and < 2${D} ** ${(C+1)*8}${D}`:ee=`>= -(2${D} ** ${(C+1)*8-1}${D}) and < 2 ** ${(C+1)*8-1}${D}`,new G.ERR_OUT_OF_RANGE("value",ee,a)}T(y,O,C)}function U(a,e){if(typeof a!="number")throw new G.ERR_INVALID_ARG_TYPE(e,"number",a)}function V(a,e,t){throw Math.floor(a)!==a?(U(a,t),new G.ERR_OUT_OF_RANGE("offset","an integer",a)):e<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,a)}const J=/[^+/0-9A-Za-z-_]/g;function X(a){if(a=a.split("=")[0],a=a.trim().replace(J,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function he(a,e){e=e||1/0;let t;const y=a.length;let O=null;const C=[];for(let D=0;D<y;++D){if(t=a.charCodeAt(D),t>55295&&t<57344){if(!O){if(t>56319){(e-=3)>-1&&C.push(239,191,189);continue}else if(D+1===y){(e-=3)>-1&&C.push(239,191,189);continue}O=t;continue}if(t<56320){(e-=3)>-1&&C.push(239,191,189),O=t;continue}t=(O-55296<<10|t-56320)+65536}else O&&(e-=3)>-1&&C.push(239,191,189);if(O=null,t<128){if((e-=1)<0)break;C.push(t)}else if(t<2048){if((e-=2)<0)break;C.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;C.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;C.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return C}function we(a){const e=[];for(let t=0;t<a.length;++t)e.push(a.charCodeAt(t)&255);return e}function ge(a,e){let t,y,O;const C=[];for(let D=0;D<a.length&&!((e-=2)<0);++D)t=a.charCodeAt(D),y=t>>8,O=t%256,C.push(O),C.push(y);return C}function pe(a){return s.toByteArray(X(a))}function ce(a,e,t,y){let O;for(O=0;O<y&&!(O+t>=e.length||O>=a.length);++O)e[O+t]=a[O];return O}function me(a,e){return a instanceof e||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===e.name}function _e(a){return a!==a}const De=(function(){const a="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const y=t*16;for(let O=0;O<16;++O)e[y+O]=a[t]+a[O]}return e})();function be(a){return typeof BigInt>"u"?Ae:a}function Ae(){throw new Error("BigInt not supported")}})(Ft)),Ft}var Ti=bn(),Ke={exports:{}},Mt={},Ne={},qe={},Bt={},Dt={},Ut={},Zt;function Ot(){return Zt||(Zt=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class s{}r._CodeOrName=s,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class I extends s{constructor(i){if(super(),!r.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=I;class m extends s{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((l,$)=>`${l}${$}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((l,$)=>($ instanceof I&&(l[$.str]=(l[$.str]||0)+1),l),{})}}r._Code=m,r.nil=new m("");function S(f,...i){const l=[f[0]];let $=0;for(;$<i.length;)n(l,i[$]),l.push(f[++$]);return new m(l)}r._=S;const c=new m("+");function h(f,...i){const l=[p(f[0])];let $=0;for(;$<i.length;)l.push(c),n(l,i[$]),l.push(c,p(f[++$]));return w(l),new m(l)}r.str=h;function n(f,i){i instanceof m?f.push(...i._items):i instanceof I?f.push(i):f.push(N(i))}r.addCodeArg=n;function w(f){let i=1;for(;i<f.length-1;){if(f[i]===c){const l=P(f[i-1],f[i+1]);if(l!==void 0){f.splice(i-1,3,l);continue}f[i++]="+"}i++}}function P(f,i){if(i==='""')return f;if(f==='""')return i;if(typeof f=="string")return i instanceof I||f[f.length-1]!=='"'?void 0:typeof i!="string"?`${f.slice(0,-1)}${i}"`:i[0]==='"'?f.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(f instanceof I))return`"${f}${i.slice(1)}`}function _(f,i){return i.emptyStr()?f:f.emptyStr()?i:h`${f}${i}`}r.strConcat=_;function N(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:p(Array.isArray(f)?f.join(","):f)}function E(f){return new m(p(f))}r.stringify=E;function p(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.safeStringify=p;function v(f){return typeof f=="string"&&r.IDENTIFIER.test(f)?new m(`.${f}`):S`[${f}]`}r.getProperty=v;function b(f){if(typeof f=="string"&&r.IDENTIFIER.test(f))return new m(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}r.getEsmExportName=b;function u(f){return new m(f.toString())}r.regexpCode=u})(Ut)),Ut}var xt={},er;function tr(){return er||(er=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ValueScope=r.ValueScopeName=r.Scope=r.varKinds=r.UsedValueState=void 0;const s=Ot();class I extends Error{constructor(P){super(`CodeGen: "code" for ${P} not defined`),this.value=P.value}}var m;(function(w){w[w.Started=0]="Started",w[w.Completed=1]="Completed"})(m||(r.UsedValueState=m={})),r.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class S{constructor({prefixes:P,parent:_}={}){this._names={},this._prefixes=P,this._parent=_}toName(P){return P instanceof s.Name?P:this.name(P)}name(P){return new s.Name(this._newName(P))}_newName(P){const _=this._names[P]||this._nameGroup(P);return`${P}${_.index++}`}_nameGroup(P){var _,N;if(!((N=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||N===void 0)&&N.has(P)||this._prefixes&&!this._prefixes.has(P))throw new Error(`CodeGen: prefix "${P}" is not allowed in this scope`);return this._names[P]={prefix:P,index:0}}}r.Scope=S;class c extends s.Name{constructor(P,_){super(_),this.prefix=P}setValue(P,{property:_,itemIndex:N}){this.value=P,this.scopePath=(0,s._)`.${new s.Name(_)}[${N}]`}}r.ValueScopeName=c;const h=(0,s._)`\n`;class n extends S{constructor(P){super(P),this._values={},this._scope=P.scope,this.opts={...P,_n:P.lines?h:s.nil}}get(){return this._scope}name(P){return new c(P,this._newName(P))}value(P,_){var N;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const E=this.toName(P),{prefix:p}=E,v=(N=_.key)!==null&&N!==void 0?N:_.ref;let b=this._values[p];if(b){const i=b.get(v);if(i)return i}else b=this._values[p]=new Map;b.set(v,E);const u=this._scope[p]||(this._scope[p]=[]),f=u.length;return u[f]=_.ref,E.setValue(_,{property:p,itemIndex:f}),E}getValue(P,_){const N=this._values[P];if(N)return N.get(_)}scopeRefs(P,_=this._values){return this._reduceValues(_,N=>{if(N.scopePath===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return(0,s._)`${P}${N.scopePath}`})}scopeCode(P=this._values,_,N){return this._reduceValues(P,E=>{if(E.value===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return E.value.code},_,N)}_reduceValues(P,_,N={},E){let p=s.nil;for(const v in P){const b=P[v];if(!b)continue;const u=N[v]=N[v]||new Map;b.forEach(f=>{if(u.has(f))return;u.set(f,m.Started);let i=_(f);if(i){const l=this.opts.es5?r.varKinds.var:r.varKinds.const;p=(0,s._)`${p}${l} ${f} = ${i};${this.opts._n}`}else if(i=E?.(f))p=(0,s._)`${p}${i}${this.opts._n}`;else throw new I(f);u.set(f,m.Completed)})}return p}}r.ValueScope=n})(xt)),xt}var rr;function te(){return rr||(rr=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const s=Ot(),I=tr();var m=Ot();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return m.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return m.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return m.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return m.Name}});var S=tr();Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return S.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return S.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return S.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return S.varKinds}}),r.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class c{optimizeNodes(){return this}optimizeNames(d,k){return this}}class h extends c{constructor(d,k,M){super(),this.varKind=d,this.name=k,this.rhs=M}render({es5:d,_n:k}){const M=d?I.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${H};`+k}optimizeNames(d,k){if(d[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,d,k)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class n extends c{constructor(d,k,M){super(),this.lhs=d,this.rhs=k,this.sideEffects=M}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,k){if(!(this.lhs instanceof s.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,d,k),this}get names(){const d=this.lhs instanceof s.Name?{}:{...this.lhs.names};return W(d,this.rhs)}}class w extends n{constructor(d,k,M,H){super(d,M,H),this.op=k}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class P extends c{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class _ extends c{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class N extends c{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class E extends c{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,k){return this.code=re(this.code,d,k),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class p extends c{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((k,M)=>k+M.render(d),"")}optimizeNodes(){const{nodes:d}=this;let k=d.length;for(;k--;){const M=d[k].optimizeNodes();Array.isArray(M)?d.splice(k,1,...M):M?d[k]=M:d.splice(k,1)}return d.length>0?this:void 0}optimizeNames(d,k){const{nodes:M}=this;let H=M.length;for(;H--;){const G=M[H];G.optimizeNames(d,k)||(de(d,G.names),M.splice(H,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((d,k)=>Y(d,k.names),{})}}class v extends p{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class b extends p{}class u extends v{}u.kind="else";class f extends v{constructor(d,k){super(k),this.condition=d}render(d){let k=`if(${this.condition})`+super.render(d);return this.else&&(k+="else "+this.else.render(d)),k}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let k=this.else;if(k){const M=k.optimizeNodes();k=this.else=Array.isArray(M)?new u(M):M}if(k)return d===!1?k instanceof f?k:k.nodes:this.nodes.length?this:new f(Ee(d),k instanceof f?[k]:k.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,k){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(d,k),!!(super.optimizeNames(d,k)||this.else))return this.condition=re(this.condition,d,k),this}get names(){const d=super.names;return W(d,this.condition),this.else&&Y(d,this.else.names),d}}f.kind="if";class i extends v{}i.kind="for";class l extends i{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,k){if(super.optimizeNames(d,k))return this.iteration=re(this.iteration,d,k),this}get names(){return Y(super.names,this.iteration.names)}}class $ extends i{constructor(d,k,M,H){super(),this.varKind=d,this.name=k,this.from=M,this.to=H}render(d){const k=d.es5?I.varKinds.var:this.varKind,{name:M,from:H,to:G}=this;return`for(${k} ${M}=${H}; ${M}<${G}; ${M}++)`+super.render(d)}get names(){const d=W(super.names,this.from);return W(d,this.to)}}class o extends i{constructor(d,k,M,H){super(),this.loop=d,this.varKind=k,this.name=M,this.iterable=H}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,k){if(super.optimizeNames(d,k))return this.iterable=re(this.iterable,d,k),this}get names(){return Y(super.names,this.iterable.names)}}class g extends v{constructor(d,k,M){super(),this.name=d,this.args=k,this.async=M}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}g.kind="func";class R extends p{render(d){return"return "+super.render(d)}}R.kind="return";class F extends v{render(d){let k="try"+super.render(d);return this.catch&&(k+=this.catch.render(d)),this.finally&&(k+=this.finally.render(d)),k}optimizeNodes(){var d,k;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(d,k){var M,H;return super.optimizeNames(d,k),(M=this.catch)===null||M===void 0||M.optimizeNames(d,k),(H=this.finally)===null||H===void 0||H.optimizeNames(d,k),this}get names(){const d=super.names;return this.catch&&Y(d,this.catch.names),this.finally&&Y(d,this.finally.names),d}}class x extends v{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}x.kind="catch";class z extends v{render(d){return"finally"+super.render(d)}}z.kind="finally";class K{constructor(d,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=d,this._scope=new I.Scope({parent:d}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,k){const M=this._extScope.value(d,k);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(d,k){return this._extScope.getValue(d,k)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,k,M,H){const G=this._scope.toName(k);return M!==void 0&&H&&(this._constants[G.str]=M),this._leafNode(new h(d,G,M)),G}const(d,k,M){return this._def(I.varKinds.const,d,k,M)}let(d,k,M){return this._def(I.varKinds.let,d,k,M)}var(d,k,M){return this._def(I.varKinds.var,d,k,M)}assign(d,k,M){return this._leafNode(new n(d,k,M))}add(d,k){return this._leafNode(new w(d,r.operators.ADD,k))}code(d){return typeof d=="function"?d():d!==s.nil&&this._leafNode(new E(d)),this}object(...d){const k=["{"];for(const[M,H]of d)k.length>1&&k.push(","),k.push(M),(M!==H||this.opts.es5)&&(k.push(":"),(0,s.addCodeArg)(k,H));return k.push("}"),new s._Code(k)}if(d,k,M){if(this._blockNode(new f(d)),k&&M)this.code(k).else().code(M).endIf();else if(k)this.code(k).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new f(d))}else(){return this._elseNode(new u)}endIf(){return this._endBlockNode(f,u)}_for(d,k){return this._blockNode(d),k&&this.code(k).endFor(),this}for(d,k){return this._for(new l(d),k)}forRange(d,k,M,H,G=this.opts.es5?I.varKinds.var:I.varKinds.let){const ne=this._scope.toName(d);return this._for(new $(G,ne,k,M),()=>H(ne))}forOf(d,k,M,H=I.varKinds.const){const G=this._scope.toName(d);if(this.opts.es5){const ne=k instanceof s.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,s._)`${ne}.length`,Z=>{this.var(G,(0,s._)`${ne}[${Z}]`),M(G)})}return this._for(new o("of",H,G,k),()=>M(G))}forIn(d,k,M,H=this.opts.es5?I.varKinds.var:I.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,s._)`Object.keys(${k})`,M);const G=this._scope.toName(d);return this._for(new o("in",H,G,k),()=>M(G))}endFor(){return this._endBlockNode(i)}label(d){return this._leafNode(new P(d))}break(d){return this._leafNode(new _(d))}return(d){const k=new R;if(this._blockNode(k),this.code(d),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R)}try(d,k,M){if(!k&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new F;if(this._blockNode(H),this.code(d),k){const G=this.name("e");this._currNode=H.catch=new x(G),k(G)}return M&&(this._currNode=H.finally=new z,this.code(M)),this._endBlockNode(x,z)}throw(d){return this._leafNode(new N(d))}block(d,k){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(k),this}endBlock(d){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-k;if(M<0||d!==void 0&&M!==d)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${d} expected`);return this._nodes.length=k,this}func(d,k=s.nil,M,H){return this._blockNode(new g(d,k,M)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,k){const M=this._currNode;if(M instanceof d||k&&M instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${d.kind}/${k.kind}`:d.kind}"`)}_elseNode(d){const k=this._currNode;if(!(k instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const k=this._nodes;k[k.length-1]=d}}r.CodeGen=K;function Y(q,d){for(const k in d)q[k]=(q[k]||0)+(d[k]||0);return q}function W(q,d){return d instanceof s._CodeOrName?Y(q,d.names):q}function re(q,d,k){if(q instanceof s.Name)return M(q);if(!H(q))return q;return new s._Code(q._items.reduce((G,ne)=>(ne instanceof s.Name&&(ne=M(ne)),ne instanceof s._Code?G.push(...ne._items):G.push(ne),G),[]));function M(G){const ne=k[G.str];return ne===void 0||d[G.str]!==1?G:(delete d[G.str],ne)}function H(G){return G instanceof s._Code&&G._items.some(ne=>ne instanceof s.Name&&d[ne.str]===1&&k[ne.str]!==void 0)}}function de(q,d){for(const k in d)q[k]=(q[k]||0)-(d[k]||0)}function Ee(q){return typeof q=="boolean"||typeof q=="number"||q===null?!q:(0,s._)`!${B(q)}`}r.not=Ee;const Se=j(r.operators.AND);function oe(...q){return q.reduce(Se)}r.and=oe;const Re=j(r.operators.OR);function L(...q){return q.reduce(Re)}r.or=L;function j(q){return(d,k)=>d===s.nil?k:k===s.nil?d:(0,s._)`${B(d)} ${q} ${B(k)}`}function B(q){return q instanceof s.Name?q:(0,s._)`(${q})`}})(Dt)),Dt}var Q={},nr;function ie(){if(nr)return Q;nr=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.checkStrictMode=Q.getErrorPath=Q.Type=Q.useFunc=Q.setEvaluated=Q.evaluatedPropsToName=Q.mergeEvaluated=Q.eachItem=Q.unescapeJsonPointer=Q.escapeJsonPointer=Q.escapeFragment=Q.unescapeFragment=Q.schemaRefOrVal=Q.schemaHasRulesButRef=Q.schemaHasRules=Q.checkUnknownRules=Q.alwaysValidSchema=Q.toHash=void 0;const r=te(),s=Ot();function I(o){const g={};for(const R of o)g[R]=!0;return g}Q.toHash=I;function m(o,g){return typeof g=="boolean"?g:Object.keys(g).length===0?!0:(S(o,g),!c(g,o.self.RULES.all))}Q.alwaysValidSchema=m;function S(o,g=o.schema){const{opts:R,self:F}=o;if(!R.strictSchema||typeof g=="boolean")return;const x=F.RULES.keywords;for(const z in g)x[z]||$(o,`unknown keyword: "${z}"`)}Q.checkUnknownRules=S;function c(o,g){if(typeof o=="boolean")return!o;for(const R in o)if(g[R])return!0;return!1}Q.schemaHasRules=c;function h(o,g){if(typeof o=="boolean")return!o;for(const R in o)if(R!=="$ref"&&g.all[R])return!0;return!1}Q.schemaHasRulesButRef=h;function n({topSchemaRef:o,schemaPath:g},R,F,x){if(!x){if(typeof R=="number"||typeof R=="boolean")return R;if(typeof R=="string")return(0,r._)`${R}`}return(0,r._)`${o}${g}${(0,r.getProperty)(F)}`}Q.schemaRefOrVal=n;function w(o){return N(decodeURIComponent(o))}Q.unescapeFragment=w;function P(o){return encodeURIComponent(_(o))}Q.escapeFragment=P;function _(o){return typeof o=="number"?`${o}`:o.replace(/~/g,"~0").replace(/\//g,"~1")}Q.escapeJsonPointer=_;function N(o){return o.replace(/~1/g,"/").replace(/~0/g,"~")}Q.unescapeJsonPointer=N;function E(o,g){if(Array.isArray(o))for(const R of o)g(R);else g(o)}Q.eachItem=E;function p({mergeNames:o,mergeToName:g,mergeValues:R,resultToName:F}){return(x,z,K,Y)=>{const W=K===void 0?z:K instanceof r.Name?(z instanceof r.Name?o(x,z,K):g(x,z,K),K):z instanceof r.Name?(g(x,K,z),z):R(z,K);return Y===r.Name&&!(W instanceof r.Name)?F(x,W):W}}Q.mergeEvaluated={props:p({mergeNames:(o,g,R)=>o.if((0,r._)`${R} !== true && ${g} !== undefined`,()=>{o.if((0,r._)`${g} === true`,()=>o.assign(R,!0),()=>o.assign(R,(0,r._)`${R} || {}`).code((0,r._)`Object.assign(${R}, ${g})`))}),mergeToName:(o,g,R)=>o.if((0,r._)`${R} !== true`,()=>{g===!0?o.assign(R,!0):(o.assign(R,(0,r._)`${R} || {}`),b(o,R,g))}),mergeValues:(o,g)=>o===!0?!0:{...o,...g},resultToName:v}),items:p({mergeNames:(o,g,R)=>o.if((0,r._)`${R} !== true && ${g} !== undefined`,()=>o.assign(R,(0,r._)`${g} === true ? true : ${R} > ${g} ? ${R} : ${g}`)),mergeToName:(o,g,R)=>o.if((0,r._)`${R} !== true`,()=>o.assign(R,g===!0?!0:(0,r._)`${R} > ${g} ? ${R} : ${g}`)),mergeValues:(o,g)=>o===!0?!0:Math.max(o,g),resultToName:(o,g)=>o.var("items",g)})};function v(o,g){if(g===!0)return o.var("props",!0);const R=o.var("props",(0,r._)`{}`);return g!==void 0&&b(o,R,g),R}Q.evaluatedPropsToName=v;function b(o,g,R){Object.keys(R).forEach(F=>o.assign((0,r._)`${g}${(0,r.getProperty)(F)}`,!0))}Q.setEvaluated=b;const u={};function f(o,g){return o.scopeValue("func",{ref:g,code:u[g.code]||(u[g.code]=new s._Code(g.code))})}Q.useFunc=f;var i;(function(o){o[o.Num=0]="Num",o[o.Str=1]="Str"})(i||(Q.Type=i={}));function l(o,g,R){if(o instanceof r.Name){const F=g===i.Num;return R?F?(0,r._)`"[" + ${o} + "]"`:(0,r._)`"['" + ${o} + "']"`:F?(0,r._)`"/" + ${o}`:(0,r._)`"/" + ${o}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return R?(0,r.getProperty)(o).toString():"/"+_(o)}Q.getErrorPath=l;function $(o,g,R=o.opts.strictSchema){if(R){if(g=`strict mode: ${g}`,R===!0)throw new Error(g);o.self.logger.warn(g)}}return Q.checkStrictMode=$,Q}var He={},ir;function je(){if(ir)return He;ir=1,Object.defineProperty(He,"__esModule",{value:!0});const r=te(),s={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};return He.default=s,He}var sr;function jt(){return sr||(sr=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.extendErrors=r.resetErrorsCount=r.reportExtraError=r.reportError=r.keyword$DataError=r.keywordError=void 0;const s=te(),I=ie(),m=je();r.keywordError={message:({keyword:u})=>(0,s.str)`must pass "${u}" keyword validation`},r.keyword$DataError={message:({keyword:u,schemaType:f})=>f?(0,s.str)`"${u}" keyword must be ${f} ($data)`:(0,s.str)`"${u}" keyword is invalid ($data)`};function S(u,f=r.keywordError,i,l){const{it:$}=u,{gen:o,compositeRule:g,allErrors:R}=$,F=N(u,f,i);l??(g||R)?w(o,F):P($,(0,s._)`[${F}]`)}r.reportError=S;function c(u,f=r.keywordError,i){const{it:l}=u,{gen:$,compositeRule:o,allErrors:g}=l,R=N(u,f,i);w($,R),o||g||P(l,m.default.vErrors)}r.reportExtraError=c;function h(u,f){u.assign(m.default.errors,f),u.if((0,s._)`${m.default.vErrors} !== null`,()=>u.if(f,()=>u.assign((0,s._)`${m.default.vErrors}.length`,f),()=>u.assign(m.default.vErrors,null)))}r.resetErrorsCount=h;function n({gen:u,keyword:f,schemaValue:i,data:l,errsCount:$,it:o}){if($===void 0)throw new Error("ajv implementation error");const g=u.name("err");u.forRange("i",$,m.default.errors,R=>{u.const(g,(0,s._)`${m.default.vErrors}[${R}]`),u.if((0,s._)`${g}.instancePath === undefined`,()=>u.assign((0,s._)`${g}.instancePath`,(0,s.strConcat)(m.default.instancePath,o.errorPath))),u.assign((0,s._)`${g}.schemaPath`,(0,s.str)`${o.errSchemaPath}/${f}`),o.opts.verbose&&(u.assign((0,s._)`${g}.schema`,i),u.assign((0,s._)`${g}.data`,l))})}r.extendErrors=n;function w(u,f){const i=u.const("err",f);u.if((0,s._)`${m.default.vErrors} === null`,()=>u.assign(m.default.vErrors,(0,s._)`[${i}]`),(0,s._)`${m.default.vErrors}.push(${i})`),u.code((0,s._)`${m.default.errors}++`)}function P(u,f){const{gen:i,validateName:l,schemaEnv:$}=u;$.$async?i.throw((0,s._)`new ${u.ValidationError}(${f})`):(i.assign((0,s._)`${l}.errors`,f),i.return(!1))}const _={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function N(u,f,i){const{createErrors:l}=u.it;return l===!1?(0,s._)`{}`:E(u,f,i)}function E(u,f,i={}){const{gen:l,it:$}=u,o=[p($,i),v(u,i)];return b(u,f,o),l.object(...o)}function p({errorPath:u},{instancePath:f}){const i=f?(0,s.str)`${u}${(0,I.getErrorPath)(f,I.Type.Str)}`:u;return[m.default.instancePath,(0,s.strConcat)(m.default.instancePath,i)]}function v({keyword:u,it:{errSchemaPath:f}},{schemaPath:i,parentSchema:l}){let $=l?f:(0,s.str)`${f}/${u}`;return i&&($=(0,s.str)`${$}${(0,I.getErrorPath)(i,I.Type.Str)}`),[_.schemaPath,$]}function b(u,{params:f,message:i},l){const{keyword:$,data:o,schemaValue:g,it:R}=u,{opts:F,propertyName:x,topSchemaRef:z,schemaPath:K}=R;l.push([_.keyword,$],[_.params,typeof f=="function"?f(u):f||(0,s._)`{}`]),F.messages&&l.push([_.message,typeof i=="function"?i(u):i]),F.verbose&&l.push([_.schema,g],[_.parentSchema,(0,s._)`${z}${K}`],[m.default.data,o]),x&&l.push([_.propertyName,x])}})(Bt)),Bt}var or;function Sn(){if(or)return qe;or=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.boolOrEmptySchema=qe.topBoolOrEmptySchema=void 0;const r=jt(),s=te(),I=je(),m={message:"boolean schema is false"};function S(n){const{gen:w,schema:P,validateName:_}=n;P===!1?h(n,!1):typeof P=="object"&&P.$async===!0?w.return(I.default.data):(w.assign((0,s._)`${_}.errors`,null),w.return(!0))}qe.topBoolOrEmptySchema=S;function c(n,w){const{gen:P,schema:_}=n;_===!1?(P.var(w,!1),h(n)):P.var(w,!0)}qe.boolOrEmptySchema=c;function h(n,w){const{gen:P,data:_}=n,N={gen:P,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:n};(0,r.reportError)(N,m,void 0,w)}return qe}var ye={},Ce={},ar;function pn(){if(ar)return Ce;ar=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.getRules=Ce.isJSONType=void 0;const r=["string","number","integer","boolean","null","object","array"],s=new Set(r);function I(S){return typeof S=="string"&&s.has(S)}Ce.isJSONType=I;function m(){const S={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...S,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},S.number,S.string,S.array,S.object],post:{rules:[]},all:{},keywords:{}}}return Ce.getRules=m,Ce}var ke={},ur;function mn(){if(ur)return ke;ur=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.shouldUseRule=ke.shouldUseGroup=ke.schemaHasRulesForType=void 0;function r({schema:m,self:S},c){const h=S.RULES.types[c];return h&&h!==!0&&s(m,h)}ke.schemaHasRulesForType=r;function s(m,S){return S.rules.some(c=>I(m,c))}ke.shouldUseGroup=s;function I(m,S){var c;return m[S.keyword]!==void 0||((c=S.definition.implements)===null||c===void 0?void 0:c.some(h=>m[h]!==void 0))}return ke.shouldUseRule=I,ke}var cr;function Tt(){if(cr)return ye;cr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;const r=pn(),s=mn(),I=jt(),m=te(),S=ie();var c;(function(i){i[i.Correct=0]="Correct",i[i.Wrong=1]="Wrong"})(c||(ye.DataType=c={}));function h(i){const l=n(i.type);if(l.includes("null")){if(i.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!l.length&&i.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');i.nullable===!0&&l.push("null")}return l}ye.getSchemaTypes=h;function n(i){const l=Array.isArray(i)?i:i?[i]:[];if(l.every(r.isJSONType))return l;throw new Error("type must be JSONType or JSONType[]: "+l.join(","))}ye.getJSONTypes=n;function w(i,l){const{gen:$,data:o,opts:g}=i,R=_(l,g.coerceTypes),F=l.length>0&&!(R.length===0&&l.length===1&&(0,s.schemaHasRulesForType)(i,l[0]));if(F){const x=v(l,o,g.strictNumbers,c.Wrong);$.if(x,()=>{R.length?N(i,l,R):u(i)})}return F}ye.coerceAndCheckDataType=w;const P=new Set(["string","number","integer","boolean","null"]);function _(i,l){return l?i.filter($=>P.has($)||l==="array"&&$==="array"):[]}function N(i,l,$){const{gen:o,data:g,opts:R}=i,F=o.let("dataType",(0,m._)`typeof ${g}`),x=o.let("coerced",(0,m._)`undefined`);R.coerceTypes==="array"&&o.if((0,m._)`${F} == 'object' && Array.isArray(${g}) && ${g}.length == 1`,()=>o.assign(g,(0,m._)`${g}[0]`).assign(F,(0,m._)`typeof ${g}`).if(v(l,g,R.strictNumbers),()=>o.assign(x,g))),o.if((0,m._)`${x} !== undefined`);for(const K of $)(P.has(K)||K==="array"&&R.coerceTypes==="array")&&z(K);o.else(),u(i),o.endIf(),o.if((0,m._)`${x} !== undefined`,()=>{o.assign(g,x),E(i,x)});function z(K){switch(K){case"string":o.elseIf((0,m._)`${F} == "number" || ${F} == "boolean"`).assign(x,(0,m._)`"" + ${g}`).elseIf((0,m._)`${g} === null`).assign(x,(0,m._)`""`);return;case"number":o.elseIf((0,m._)`${F} == "boolean" || ${g} === null
              || (${F} == "string" && ${g} && ${g} == +${g})`).assign(x,(0,m._)`+${g}`);return;case"integer":o.elseIf((0,m._)`${F} === "boolean" || ${g} === null
              || (${F} === "string" && ${g} && ${g} == +${g} && !(${g} % 1))`).assign(x,(0,m._)`+${g}`);return;case"boolean":o.elseIf((0,m._)`${g} === "false" || ${g} === 0 || ${g} === null`).assign(x,!1).elseIf((0,m._)`${g} === "true" || ${g} === 1`).assign(x,!0);return;case"null":o.elseIf((0,m._)`${g} === "" || ${g} === 0 || ${g} === false`),o.assign(x,null);return;case"array":o.elseIf((0,m._)`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${g} === null`).assign(x,(0,m._)`[${g}]`)}}}function E({gen:i,parentData:l,parentDataProperty:$},o){i.if((0,m._)`${l} !== undefined`,()=>i.assign((0,m._)`${l}[${$}]`,o))}function p(i,l,$,o=c.Correct){const g=o===c.Correct?m.operators.EQ:m.operators.NEQ;let R;switch(i){case"null":return(0,m._)`${l} ${g} null`;case"array":R=(0,m._)`Array.isArray(${l})`;break;case"object":R=(0,m._)`${l} && typeof ${l} == "object" && !Array.isArray(${l})`;break;case"integer":R=F((0,m._)`!(${l} % 1) && !isNaN(${l})`);break;case"number":R=F();break;default:return(0,m._)`typeof ${l} ${g} ${i}`}return o===c.Correct?R:(0,m.not)(R);function F(x=m.nil){return(0,m.and)((0,m._)`typeof ${l} == "number"`,x,$?(0,m._)`isFinite(${l})`:m.nil)}}ye.checkDataType=p;function v(i,l,$,o){if(i.length===1)return p(i[0],l,$,o);let g;const R=(0,S.toHash)(i);if(R.array&&R.object){const F=(0,m._)`typeof ${l} != "object"`;g=R.null?F:(0,m._)`!${l} || ${F}`,delete R.null,delete R.array,delete R.object}else g=m.nil;R.number&&delete R.integer;for(const F in R)g=(0,m.and)(g,p(F,l,$,o));return g}ye.checkDataTypes=v;const b={message:({schema:i})=>`must be ${i}`,params:({schema:i,schemaValue:l})=>typeof i=="string"?(0,m._)`{type: ${i}}`:(0,m._)`{type: ${l}}`};function u(i){const l=f(i);(0,I.reportError)(l,b)}ye.reportTypeError=u;function f(i){const{gen:l,data:$,schema:o}=i,g=(0,S.schemaRefOrVal)(i,o,"type");return{gen:l,keyword:"type",data:$,schema:o.type,schemaCode:g,schemaValue:g,parentSchema:o,params:{},it:i}}return ye}var xe={},lr;function Pn(){if(lr)return xe;lr=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.assignDefaults=void 0;const r=te(),s=ie();function I(S,c){const{properties:h,items:n}=S.schema;if(c==="object"&&h)for(const w in h)m(S,w,h[w].default);else c==="array"&&Array.isArray(n)&&n.forEach((w,P)=>m(S,P,w.default))}xe.assignDefaults=I;function m(S,c,h){const{gen:n,compositeRule:w,data:P,opts:_}=S;if(h===void 0)return;const N=(0,r._)`${P}${(0,r.getProperty)(c)}`;if(w){(0,s.checkStrictMode)(S,`default is ignored for: ${N}`);return}let E=(0,r._)`${N} === undefined`;_.useDefaults==="empty"&&(E=(0,r._)`${E} || ${N} === null || ${N} === ""`),n.if(E,(0,r._)`${N} = ${(0,r.stringify)(h)}`)}return xe}var Pe={},se={},fr;function Ie(){if(fr)return se;fr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;const r=te(),s=ie(),I=je(),m=ie();function S(i,l){const{gen:$,data:o,it:g}=i;$.if(_($,o,l,g.opts.ownProperties),()=>{i.setParams({missingProperty:(0,r._)`${l}`},!0),i.error()})}se.checkReportMissingProp=S;function c({gen:i,data:l,it:{opts:$}},o,g){return(0,r.or)(...o.map(R=>(0,r.and)(_(i,l,R,$.ownProperties),(0,r._)`${g} = ${R}`)))}se.checkMissingProp=c;function h(i,l){i.setParams({missingProperty:l},!0),i.error()}se.reportMissingProp=h;function n(i){return i.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,r._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=n;function w(i,l,$){return(0,r._)`${n(i)}.call(${l}, ${$})`}se.isOwnProperty=w;function P(i,l,$,o){const g=(0,r._)`${l}${(0,r.getProperty)($)} !== undefined`;return o?(0,r._)`${g} && ${w(i,l,$)}`:g}se.propertyInData=P;function _(i,l,$,o){const g=(0,r._)`${l}${(0,r.getProperty)($)} === undefined`;return o?(0,r.or)(g,(0,r.not)(w(i,l,$))):g}se.noPropertyInData=_;function N(i){return i?Object.keys(i).filter(l=>l!=="__proto__"):[]}se.allSchemaProperties=N;function E(i,l){return N(l).filter($=>!(0,s.alwaysValidSchema)(i,l[$]))}se.schemaProperties=E;function p({schemaCode:i,data:l,it:{gen:$,topSchemaRef:o,schemaPath:g,errorPath:R},it:F},x,z,K){const Y=K?(0,r._)`${i}, ${l}, ${o}${g}`:l,W=[[I.default.instancePath,(0,r.strConcat)(I.default.instancePath,R)],[I.default.parentData,F.parentData],[I.default.parentDataProperty,F.parentDataProperty],[I.default.rootData,I.default.rootData]];F.opts.dynamicRef&&W.push([I.default.dynamicAnchors,I.default.dynamicAnchors]);const re=(0,r._)`${Y}, ${$.object(...W)}`;return z!==r.nil?(0,r._)`${x}.call(${z}, ${re})`:(0,r._)`${x}(${re})`}se.callValidateCode=p;const v=(0,r._)`new RegExp`;function b({gen:i,it:{opts:l}},$){const o=l.unicodeRegExp?"u":"",{regExp:g}=l.code,R=g($,o);return i.scopeValue("pattern",{key:R.toString(),ref:R,code:(0,r._)`${g.code==="new RegExp"?v:(0,m.useFunc)(i,g)}(${$}, ${o})`})}se.usePattern=b;function u(i){const{gen:l,data:$,keyword:o,it:g}=i,R=l.name("valid");if(g.allErrors){const x=l.let("valid",!0);return F(()=>l.assign(x,!1)),x}return l.var(R,!0),F(()=>l.break()),R;function F(x){const z=l.const("len",(0,r._)`${$}.length`);l.forRange("i",0,z,K=>{i.subschema({keyword:o,dataProp:K,dataPropType:s.Type.Num},R),l.if((0,r.not)(R),x)})}}se.validateArray=u;function f(i){const{gen:l,schema:$,keyword:o,it:g}=i;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(z=>(0,s.alwaysValidSchema)(g,z))&&!g.opts.unevaluated)return;const F=l.let("valid",!1),x=l.name("_valid");l.block(()=>$.forEach((z,K)=>{const Y=i.subschema({keyword:o,schemaProp:K,compositeRule:!0},x);l.assign(F,(0,r._)`${F} || ${x}`),i.mergeValidEvaluated(Y,x)||l.if((0,r.not)(F))})),i.result(F,()=>i.reset(),()=>i.error(!0))}return se.validateUnion=f,se}var dr;function In(){if(dr)return Pe;dr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateKeywordUsage=Pe.validSchemaType=Pe.funcKeywordCode=Pe.macroKeywordCode=void 0;const r=te(),s=je(),I=Ie(),m=jt();function S(E,p){const{gen:v,keyword:b,schema:u,parentSchema:f,it:i}=E,l=p.macro.call(i.self,u,f,i),$=P(v,b,l);i.opts.validateSchema!==!1&&i.self.validateSchema(l,!0);const o=v.name("valid");E.subschema({schema:l,schemaPath:r.nil,errSchemaPath:`${i.errSchemaPath}/${b}`,topSchemaRef:$,compositeRule:!0},o),E.pass(o,()=>E.error(!0))}Pe.macroKeywordCode=S;function c(E,p){var v;const{gen:b,keyword:u,schema:f,parentSchema:i,$data:l,it:$}=E;w($,p);const o=!l&&p.compile?p.compile.call($.self,f,i,$):p.validate,g=P(b,u,o),R=b.let("valid");E.block$data(R,F),E.ok((v=p.valid)!==null&&v!==void 0?v:R);function F(){if(p.errors===!1)K(),p.modifying&&h(E),Y(()=>E.error());else{const W=p.async?x():z();p.modifying&&h(E),Y(()=>n(E,W))}}function x(){const W=b.let("ruleErrs",null);return b.try(()=>K((0,r._)`await `),re=>b.assign(R,!1).if((0,r._)`${re} instanceof ${$.ValidationError}`,()=>b.assign(W,(0,r._)`${re}.errors`),()=>b.throw(re))),W}function z(){const W=(0,r._)`${g}.errors`;return b.assign(W,null),K(r.nil),W}function K(W=p.async?(0,r._)`await `:r.nil){const re=$.opts.passContext?s.default.this:s.default.self,de=!("compile"in p&&!l||p.schema===!1);b.assign(R,(0,r._)`${W}${(0,I.callValidateCode)(E,g,re,de)}`,p.modifying)}function Y(W){var re;b.if((0,r.not)((re=p.valid)!==null&&re!==void 0?re:R),W)}}Pe.funcKeywordCode=c;function h(E){const{gen:p,data:v,it:b}=E;p.if(b.parentData,()=>p.assign(v,(0,r._)`${b.parentData}[${b.parentDataProperty}]`))}function n(E,p){const{gen:v}=E;v.if((0,r._)`Array.isArray(${p})`,()=>{v.assign(s.default.vErrors,(0,r._)`${s.default.vErrors} === null ? ${p} : ${s.default.vErrors}.concat(${p})`).assign(s.default.errors,(0,r._)`${s.default.vErrors}.length`),(0,m.extendErrors)(E)},()=>E.error())}function w({schemaEnv:E},p){if(p.async&&!E.$async)throw new Error("async keyword in sync schema")}function P(E,p,v){if(v===void 0)throw new Error(`keyword "${p}" failed to compile`);return E.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,r.stringify)(v)})}function _(E,p,v=!1){return!p.length||p.some(b=>b==="array"?Array.isArray(E):b==="object"?E&&typeof E=="object"&&!Array.isArray(E):typeof E==b||v&&typeof E>"u")}Pe.validSchemaType=_;function N({schema:E,opts:p,self:v,errSchemaPath:b},u,f){if(Array.isArray(u.keyword)?!u.keyword.includes(f):u.keyword!==f)throw new Error("ajv implementation error");const i=u.dependencies;if(i?.some(l=>!Object.prototype.hasOwnProperty.call(E,l)))throw new Error(`parent schema must have dependencies of ${f}: ${i.join(",")}`);if(u.validateSchema&&!u.validateSchema(E[f])){const $=`keyword "${f}" value is invalid at path "${b}": `+v.errorsText(u.validateSchema.errors);if(p.validateSchema==="log")v.logger.error($);else throw new Error($)}}return Pe.validateKeywordUsage=N,Pe}var Oe={},hr;function Rn(){if(hr)return Oe;hr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.extendSubschemaMode=Oe.extendSubschemaData=Oe.getSubschema=void 0;const r=te(),s=ie();function I(c,{keyword:h,schemaProp:n,schema:w,schemaPath:P,errSchemaPath:_,topSchemaRef:N}){if(h!==void 0&&w!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(h!==void 0){const E=c.schema[h];return n===void 0?{schema:E,schemaPath:(0,r._)`${c.schemaPath}${(0,r.getProperty)(h)}`,errSchemaPath:`${c.errSchemaPath}/${h}`}:{schema:E[n],schemaPath:(0,r._)`${c.schemaPath}${(0,r.getProperty)(h)}${(0,r.getProperty)(n)}`,errSchemaPath:`${c.errSchemaPath}/${h}/${(0,s.escapeFragment)(n)}`}}if(w!==void 0){if(P===void 0||_===void 0||N===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:w,schemaPath:P,topSchemaRef:N,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}Oe.getSubschema=I;function m(c,h,{dataProp:n,dataPropType:w,data:P,dataTypes:_,propertyName:N}){if(P!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:E}=h;if(n!==void 0){const{errorPath:v,dataPathArr:b,opts:u}=h,f=E.let("data",(0,r._)`${h.data}${(0,r.getProperty)(n)}`,!0);p(f),c.errorPath=(0,r.str)`${v}${(0,s.getErrorPath)(n,w,u.jsPropertySyntax)}`,c.parentDataProperty=(0,r._)`${n}`,c.dataPathArr=[...b,c.parentDataProperty]}if(P!==void 0){const v=P instanceof r.Name?P:E.let("data",P,!0);p(v),N!==void 0&&(c.propertyName=N)}_&&(c.dataTypes=_);function p(v){c.data=v,c.dataLevel=h.dataLevel+1,c.dataTypes=[],h.definedProperties=new Set,c.parentData=h.data,c.dataNames=[...h.dataNames,v]}}Oe.extendSubschemaData=m;function S(c,{jtdDiscriminator:h,jtdMetadata:n,compositeRule:w,createErrors:P,allErrors:_}){w!==void 0&&(c.compositeRule=w),P!==void 0&&(c.createErrors=P),_!==void 0&&(c.allErrors=_),c.jtdDiscriminator=h,c.jtdMetadata=n}return Oe.extendSubschemaMode=S,Oe}var ve={},Vt,pr;function yn(){return pr||(pr=1,Vt=function r(s,I){if(s===I)return!0;if(s&&I&&typeof s=="object"&&typeof I=="object"){if(s.constructor!==I.constructor)return!1;var m,S,c;if(Array.isArray(s)){if(m=s.length,m!=I.length)return!1;for(S=m;S--!==0;)if(!r(s[S],I[S]))return!1;return!0}if(s.constructor===RegExp)return s.source===I.source&&s.flags===I.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===I.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===I.toString();if(c=Object.keys(s),m=c.length,m!==Object.keys(I).length)return!1;for(S=m;S--!==0;)if(!Object.prototype.hasOwnProperty.call(I,c[S]))return!1;for(S=m;S--!==0;){var h=c[S];if(!r(s[h],I[h]))return!1}return!0}return s!==s&&I!==I}),Vt}var Lt={exports:{}},mr;function Nn(){if(mr)return Lt.exports;mr=1;var r=Lt.exports=function(m,S,c){typeof S=="function"&&(c=S,S={}),c=S.cb||c;var h=typeof c=="function"?c:c.pre||function(){},n=c.post||function(){};s(S,h,n,m,"",m)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function s(m,S,c,h,n,w,P,_,N,E){if(h&&typeof h=="object"&&!Array.isArray(h)){S(h,n,w,P,_,N,E);for(var p in h){var v=h[p];if(Array.isArray(v)){if(p in r.arrayKeywords)for(var b=0;b<v.length;b++)s(m,S,c,v[b],n+"/"+p+"/"+b,w,n,p,h,b)}else if(p in r.propsKeywords){if(v&&typeof v=="object")for(var u in v)s(m,S,c,v[u],n+"/"+p+"/"+I(u),w,n,p,h,u)}else(p in r.keywords||m.allKeys&&!(p in r.skipKeywords))&&s(m,S,c,v,n+"/"+p,w,n,p,h)}c(h,n,w,P,_,N,E)}}function I(m){return m.replace(/~/g,"~0").replace(/\//g,"~1")}return Lt.exports}var yr;function At(){if(yr)return ve;yr=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getSchemaRefs=ve.resolveUrl=ve.normalizeId=ve._getFullPath=ve.getFullPath=ve.inlineRef=void 0;const r=ie(),s=yn(),I=Nn(),m=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function S(b,u=!0){return typeof b=="boolean"?!0:u===!0?!h(b):u?n(b)<=u:!1}ve.inlineRef=S;const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function h(b){for(const u in b){if(c.has(u))return!0;const f=b[u];if(Array.isArray(f)&&f.some(h)||typeof f=="object"&&h(f))return!0}return!1}function n(b){let u=0;for(const f in b){if(f==="$ref")return 1/0;if(u++,!m.has(f)&&(typeof b[f]=="object"&&(0,r.eachItem)(b[f],i=>u+=n(i)),u===1/0))return 1/0}return u}function w(b,u="",f){f!==!1&&(u=N(u));const i=b.parse(u);return P(b,i)}ve.getFullPath=w;function P(b,u){return b.serialize(u).split("#")[0]+"#"}ve._getFullPath=P;const _=/#\/?$/;function N(b){return b?b.replace(_,""):""}ve.normalizeId=N;function E(b,u,f){return f=N(f),b.resolve(u,f)}ve.resolveUrl=E;const p=/^[a-z_][-a-z0-9._]*$/i;function v(b,u){if(typeof b=="boolean")return{};const{schemaId:f,uriResolver:i}=this.opts,l=N(b[f]||u),$={"":l},o=w(i,l,!1),g={},R=new Set;return I(b,{allKeys:!0},(z,K,Y,W)=>{if(W===void 0)return;const re=o+K;let de=$[W];typeof z[f]=="string"&&(de=Ee.call(this,z[f])),Se.call(this,z.$anchor),Se.call(this,z.$dynamicAnchor),$[K]=de;function Ee(oe){const Re=this.opts.uriResolver.resolve;if(oe=N(de?Re(de,oe):oe),R.has(oe))throw x(oe);R.add(oe);let L=this.refs[oe];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?F(z,L.schema,oe):oe!==N(re)&&(oe[0]==="#"?(F(z,g[oe],oe),g[oe]=z):this.refs[oe]=re),oe}function Se(oe){if(typeof oe=="string"){if(!p.test(oe))throw new Error(`invalid anchor "${oe}"`);Ee.call(this,`#${oe}`)}}}),g;function F(z,K,Y){if(K!==void 0&&!s(z,K))throw x(Y)}function x(z){return new Error(`reference "${z}" resolves to more than one schema`)}}return ve.getSchemaRefs=v,ve}var gr;function qt(){if(gr)return Ne;gr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.getData=Ne.KeywordCxt=Ne.validateFunctionCode=void 0;const r=Sn(),s=Tt(),I=mn(),m=Tt(),S=Pn(),c=In(),h=Rn(),n=te(),w=je(),P=At(),_=ie(),N=jt();function E(T){if(o(T)&&(R(T),$(T))){u(T);return}p(T,()=>(0,r.topBoolOrEmptySchema)(T))}Ne.validateFunctionCode=E;function p({gen:T,validateName:A,schema:U,schemaEnv:V,opts:J},X){J.code.es5?T.func(A,(0,n._)`${w.default.data}, ${w.default.valCxt}`,V.$async,()=>{T.code((0,n._)`"use strict"; ${i(U,J)}`),b(T,J),T.code(X)}):T.func(A,(0,n._)`${w.default.data}, ${v(J)}`,V.$async,()=>T.code(i(U,J)).code(X))}function v(T){return(0,n._)`{${w.default.instancePath}="", ${w.default.parentData}, ${w.default.parentDataProperty}, ${w.default.rootData}=${w.default.data}${T.dynamicRef?(0,n._)`, ${w.default.dynamicAnchors}={}`:n.nil}}={}`}function b(T,A){T.if(w.default.valCxt,()=>{T.var(w.default.instancePath,(0,n._)`${w.default.valCxt}.${w.default.instancePath}`),T.var(w.default.parentData,(0,n._)`${w.default.valCxt}.${w.default.parentData}`),T.var(w.default.parentDataProperty,(0,n._)`${w.default.valCxt}.${w.default.parentDataProperty}`),T.var(w.default.rootData,(0,n._)`${w.default.valCxt}.${w.default.rootData}`),A.dynamicRef&&T.var(w.default.dynamicAnchors,(0,n._)`${w.default.valCxt}.${w.default.dynamicAnchors}`)},()=>{T.var(w.default.instancePath,(0,n._)`""`),T.var(w.default.parentData,(0,n._)`undefined`),T.var(w.default.parentDataProperty,(0,n._)`undefined`),T.var(w.default.rootData,w.default.data),A.dynamicRef&&T.var(w.default.dynamicAnchors,(0,n._)`{}`)})}function u(T){const{schema:A,opts:U,gen:V}=T;p(T,()=>{U.$comment&&A.$comment&&W(T),z(T),V.let(w.default.vErrors,null),V.let(w.default.errors,0),U.unevaluated&&f(T),F(T),re(T)})}function f(T){const{gen:A,validateName:U}=T;T.evaluated=A.const("evaluated",(0,n._)`${U}.evaluated`),A.if((0,n._)`${T.evaluated}.dynamicProps`,()=>A.assign((0,n._)`${T.evaluated}.props`,(0,n._)`undefined`)),A.if((0,n._)`${T.evaluated}.dynamicItems`,()=>A.assign((0,n._)`${T.evaluated}.items`,(0,n._)`undefined`))}function i(T,A){const U=typeof T=="object"&&T[A.schemaId];return U&&(A.code.source||A.code.process)?(0,n._)`/*# sourceURL=${U} */`:n.nil}function l(T,A){if(o(T)&&(R(T),$(T))){g(T,A);return}(0,r.boolOrEmptySchema)(T,A)}function $({schema:T,self:A}){if(typeof T=="boolean")return!T;for(const U in T)if(A.RULES.all[U])return!0;return!1}function o(T){return typeof T.schema!="boolean"}function g(T,A){const{schema:U,gen:V,opts:J}=T;J.$comment&&U.$comment&&W(T),K(T),Y(T);const X=V.const("_errs",w.default.errors);F(T,X),V.var(A,(0,n._)`${X} === ${w.default.errors}`)}function R(T){(0,_.checkUnknownRules)(T),x(T)}function F(T,A){if(T.opts.jtd)return Ee(T,[],!1,A);const U=(0,s.getSchemaTypes)(T.schema),V=(0,s.coerceAndCheckDataType)(T,U);Ee(T,U,!V,A)}function x(T){const{schema:A,errSchemaPath:U,opts:V,self:J}=T;A.$ref&&V.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(A,J.RULES)&&J.logger.warn(`$ref: keywords ignored in schema at path "${U}"`)}function z(T){const{schema:A,opts:U}=T;A.default!==void 0&&U.useDefaults&&U.strictSchema&&(0,_.checkStrictMode)(T,"default is ignored in the schema root")}function K(T){const A=T.schema[T.opts.schemaId];A&&(T.baseId=(0,P.resolveUrl)(T.opts.uriResolver,T.baseId,A))}function Y(T){if(T.schema.$async&&!T.schemaEnv.$async)throw new Error("async schema in sync schema")}function W({gen:T,schemaEnv:A,schema:U,errSchemaPath:V,opts:J}){const X=U.$comment;if(J.$comment===!0)T.code((0,n._)`${w.default.self}.logger.log(${X})`);else if(typeof J.$comment=="function"){const he=(0,n.str)`${V}/$comment`,we=T.scopeValue("root",{ref:A.root});T.code((0,n._)`${w.default.self}.opts.$comment(${X}, ${he}, ${we}.schema)`)}}function re(T){const{gen:A,schemaEnv:U,validateName:V,ValidationError:J,opts:X}=T;U.$async?A.if((0,n._)`${w.default.errors} === 0`,()=>A.return(w.default.data),()=>A.throw((0,n._)`new ${J}(${w.default.vErrors})`)):(A.assign((0,n._)`${V}.errors`,w.default.vErrors),X.unevaluated&&de(T),A.return((0,n._)`${w.default.errors} === 0`))}function de({gen:T,evaluated:A,props:U,items:V}){U instanceof n.Name&&T.assign((0,n._)`${A}.props`,U),V instanceof n.Name&&T.assign((0,n._)`${A}.items`,V)}function Ee(T,A,U,V){const{gen:J,schema:X,data:he,allErrors:we,opts:ge,self:pe}=T,{RULES:ce}=pe;if(X.$ref&&(ge.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(X,ce))){J.block(()=>H(T,"$ref",ce.all.$ref.definition));return}ge.jtd||oe(T,A),J.block(()=>{for(const _e of ce.rules)me(_e);me(ce.post)});function me(_e){(0,I.shouldUseGroup)(X,_e)&&(_e.type?(J.if((0,m.checkDataType)(_e.type,he,ge.strictNumbers)),Se(T,_e),A.length===1&&A[0]===_e.type&&U&&(J.else(),(0,m.reportTypeError)(T)),J.endIf()):Se(T,_e),we||J.if((0,n._)`${w.default.errors} === ${V||0}`))}}function Se(T,A){const{gen:U,schema:V,opts:{useDefaults:J}}=T;J&&(0,S.assignDefaults)(T,A.type),U.block(()=>{for(const X of A.rules)(0,I.shouldUseRule)(V,X)&&H(T,X.keyword,X.definition,A.type)})}function oe(T,A){T.schemaEnv.meta||!T.opts.strictTypes||(Re(T,A),T.opts.allowUnionTypes||L(T,A),j(T,T.dataTypes))}function Re(T,A){if(A.length){if(!T.dataTypes.length){T.dataTypes=A;return}A.forEach(U=>{q(T.dataTypes,U)||k(T,`type "${U}" not allowed by context "${T.dataTypes.join(",")}"`)}),d(T,A)}}function L(T,A){A.length>1&&!(A.length===2&&A.includes("null"))&&k(T,"use allowUnionTypes to allow union type keyword")}function j(T,A){const U=T.self.RULES.all;for(const V in U){const J=U[V];if(typeof J=="object"&&(0,I.shouldUseRule)(T.schema,J)){const{type:X}=J.definition;X.length&&!X.some(he=>B(A,he))&&k(T,`missing type "${X.join(",")}" for keyword "${V}"`)}}}function B(T,A){return T.includes(A)||A==="number"&&T.includes("integer")}function q(T,A){return T.includes(A)||A==="integer"&&T.includes("number")}function d(T,A){const U=[];for(const V of T.dataTypes)q(A,V)?U.push(V):A.includes("integer")&&V==="number"&&U.push("integer");T.dataTypes=U}function k(T,A){const U=T.schemaEnv.baseId+T.errSchemaPath;A+=` at "${U}" (strictTypes)`,(0,_.checkStrictMode)(T,A,T.opts.strictTypes)}class M{constructor(A,U,V){if((0,c.validateKeywordUsage)(A,U,V),this.gen=A.gen,this.allErrors=A.allErrors,this.keyword=V,this.data=A.data,this.schema=A.schema[V],this.$data=U.$data&&A.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(A,this.schema,V,this.$data),this.schemaType=U.schemaType,this.parentSchema=A.schema,this.params={},this.it=A,this.def=U,this.$data)this.schemaCode=A.gen.const("vSchema",Z(this.$data,A));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,U.schemaType,U.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(U.schemaType)}`);("code"in U?U.trackErrors:U.errors!==!1)&&(this.errsCount=A.gen.const("_errs",w.default.errors))}result(A,U,V){this.failResult((0,n.not)(A),U,V)}failResult(A,U,V){this.gen.if(A),V?V():this.error(),U?(this.gen.else(),U(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(A,U){this.failResult((0,n.not)(A),void 0,U)}fail(A){if(A===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(A),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(A){if(!this.$data)return this.fail(A);const{schemaCode:U}=this;this.fail((0,n._)`${U} !== undefined && (${(0,n.or)(this.invalid$data(),A)})`)}error(A,U,V){if(U){this.setParams(U),this._error(A,V),this.setParams({});return}this._error(A,V)}_error(A,U){(A?N.reportExtraError:N.reportError)(this,this.def.error,U)}$dataError(){(0,N.reportError)(this,this.def.$dataError||N.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,N.resetErrorsCount)(this.gen,this.errsCount)}ok(A){this.allErrors||this.gen.if(A)}setParams(A,U){U?Object.assign(this.params,A):this.params=A}block$data(A,U,V=n.nil){this.gen.block(()=>{this.check$data(A,V),U()})}check$data(A=n.nil,U=n.nil){if(!this.$data)return;const{gen:V,schemaCode:J,schemaType:X,def:he}=this;V.if((0,n.or)((0,n._)`${J} === undefined`,U)),A!==n.nil&&V.assign(A,!0),(X.length||he.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),A!==n.nil&&V.assign(A,!1)),V.else()}invalid$data(){const{gen:A,schemaCode:U,schemaType:V,def:J,it:X}=this;return(0,n.or)(he(),we());function he(){if(V.length){if(!(U instanceof n.Name))throw new Error("ajv implementation error");const ge=Array.isArray(V)?V:[V];return(0,n._)`${(0,m.checkDataTypes)(ge,U,X.opts.strictNumbers,m.DataType.Wrong)}`}return n.nil}function we(){if(J.validateSchema){const ge=A.scopeValue("validate$data",{ref:J.validateSchema});return(0,n._)`!${ge}(${U})`}return n.nil}}subschema(A,U){const V=(0,h.getSubschema)(this.it,A);(0,h.extendSubschemaData)(V,this.it,A),(0,h.extendSubschemaMode)(V,A);const J={...this.it,...V,items:void 0,props:void 0};return l(J,U),J}mergeEvaluated(A,U){const{it:V,gen:J}=this;V.opts.unevaluated&&(V.props!==!0&&A.props!==void 0&&(V.props=_.mergeEvaluated.props(J,A.props,V.props,U)),V.items!==!0&&A.items!==void 0&&(V.items=_.mergeEvaluated.items(J,A.items,V.items,U)))}mergeValidEvaluated(A,U){const{it:V,gen:J}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return J.if(U,()=>this.mergeEvaluated(A,n.Name)),!0}}Ne.KeywordCxt=M;function H(T,A,U,V){const J=new M(T,U,A);"code"in U?U.code(J,V):J.$data&&U.validate?(0,c.funcKeywordCode)(J,U):"macro"in U?(0,c.macroKeywordCode)(J,U):(U.compile||U.validate)&&(0,c.funcKeywordCode)(J,U)}const G=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(T,{dataLevel:A,dataNames:U,dataPathArr:V}){let J,X;if(T==="")return w.default.rootData;if(T[0]==="/"){if(!G.test(T))throw new Error(`Invalid JSON-pointer: ${T}`);J=T,X=w.default.rootData}else{const pe=ne.exec(T);if(!pe)throw new Error(`Invalid JSON-pointer: ${T}`);const ce=+pe[1];if(J=pe[2],J==="#"){if(ce>=A)throw new Error(ge("property/index",ce));return V[A-ce]}if(ce>A)throw new Error(ge("data",ce));if(X=U[A-ce],!J)return X}let he=X;const we=J.split("/");for(const pe of we)pe&&(X=(0,n._)`${X}${(0,n.getProperty)((0,_.unescapeJsonPointer)(pe))}`,he=(0,n._)`${he} && ${X}`);return he;function ge(pe,ce){return`Cannot access ${pe} ${ce} levels up, current level is ${A}`}}return Ne.getData=Z,Ne}var Ge={},_r;function Gt(){if(_r)return Ge;_r=1,Object.defineProperty(Ge,"__esModule",{value:!0});class r extends Error{constructor(I){super("validation failed"),this.errors=I,this.ajv=this.validation=!0}}return Ge.default=r,Ge}var Je={},vr;function Ct(){if(vr)return Je;vr=1,Object.defineProperty(Je,"__esModule",{value:!0});const r=At();class s extends Error{constructor(m,S,c,h){super(h||`can't resolve reference ${c} from id ${S}`),this.missingRef=(0,r.resolveUrl)(m,S,c),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(m,this.missingRef))}}return Je.default=s,Je}var $e={},wr;function Jt(){if(wr)return $e;wr=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.resolveSchema=$e.getCompilingSchema=$e.resolveRef=$e.compileSchema=$e.SchemaEnv=void 0;const r=te(),s=Gt(),I=je(),m=At(),S=ie(),c=qt();class h{constructor(f){var i;this.refs={},this.dynamicAnchors={};let l;typeof f.schema=="object"&&(l=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(i=f.baseId)!==null&&i!==void 0?i:(0,m.normalizeId)(l?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=l?.$async,this.refs={}}}$e.SchemaEnv=h;function n(u){const f=_.call(this,u);if(f)return f;const i=(0,m.getFullPath)(this.opts.uriResolver,u.root.baseId),{es5:l,lines:$}=this.opts.code,{ownProperties:o}=this.opts,g=new r.CodeGen(this.scope,{es5:l,lines:$,ownProperties:o});let R;u.$async&&(R=g.scopeValue("Error",{ref:s.default,code:(0,r._)`require("ajv/dist/runtime/validation_error").default`}));const F=g.scopeName("validate");u.validateName=F;const x={gen:g,allErrors:this.opts.allErrors,data:I.default.data,parentData:I.default.parentData,parentDataProperty:I.default.parentDataProperty,dataNames:[I.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:g.scopeValue("schema",this.opts.code.source===!0?{ref:u.schema,code:(0,r.stringify)(u.schema)}:{ref:u.schema}),validateName:F,ValidationError:R,schema:u.schema,schemaEnv:u,rootId:i,baseId:u.baseId||i,schemaPath:r.nil,errSchemaPath:u.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,r._)`""`,opts:this.opts,self:this};let z;try{this._compilations.add(u),(0,c.validateFunctionCode)(x),g.optimize(this.opts.code.optimize);const K=g.toString();z=`${g.scopeRefs(I.default.scope)}return ${K}`,this.opts.code.process&&(z=this.opts.code.process(z,u));const W=new Function(`${I.default.self}`,`${I.default.scope}`,z)(this,this.scope.get());if(this.scope.value(F,{ref:W}),W.errors=null,W.schema=u.schema,W.schemaEnv=u,u.$async&&(W.$async=!0),this.opts.code.source===!0&&(W.source={validateName:F,validateCode:K,scopeValues:g._values}),this.opts.unevaluated){const{props:re,items:de}=x;W.evaluated={props:re instanceof r.Name?void 0:re,items:de instanceof r.Name?void 0:de,dynamicProps:re instanceof r.Name,dynamicItems:de instanceof r.Name},W.source&&(W.source.evaluated=(0,r.stringify)(W.evaluated))}return u.validate=W,u}catch(K){throw delete u.validate,delete u.validateName,z&&this.logger.error("Error compiling schema, function code:",z),K}finally{this._compilations.delete(u)}}$e.compileSchema=n;function w(u,f,i){var l;i=(0,m.resolveUrl)(this.opts.uriResolver,f,i);const $=u.refs[i];if($)return $;let o=E.call(this,u,i);if(o===void 0){const g=(l=u.localRefs)===null||l===void 0?void 0:l[i],{schemaId:R}=this.opts;g&&(o=new h({schema:g,schemaId:R,root:u,baseId:f}))}if(o!==void 0)return u.refs[i]=P.call(this,o)}$e.resolveRef=w;function P(u){return(0,m.inlineRef)(u.schema,this.opts.inlineRefs)?u.schema:u.validate?u:n.call(this,u)}function _(u){for(const f of this._compilations)if(N(f,u))return f}$e.getCompilingSchema=_;function N(u,f){return u.schema===f.schema&&u.root===f.root&&u.baseId===f.baseId}function E(u,f){let i;for(;typeof(i=this.refs[f])=="string";)f=i;return i||this.schemas[f]||p.call(this,u,f)}function p(u,f){const i=this.opts.uriResolver.parse(f),l=(0,m._getFullPath)(this.opts.uriResolver,i);let $=(0,m.getFullPath)(this.opts.uriResolver,u.baseId,void 0);if(Object.keys(u.schema).length>0&&l===$)return b.call(this,i,u);const o=(0,m.normalizeId)(l),g=this.refs[o]||this.schemas[o];if(typeof g=="string"){const R=p.call(this,u,g);return typeof R?.schema!="object"?void 0:b.call(this,i,R)}if(typeof g?.schema=="object"){if(g.validate||n.call(this,g),o===(0,m.normalizeId)(f)){const{schema:R}=g,{schemaId:F}=this.opts,x=R[F];return x&&($=(0,m.resolveUrl)(this.opts.uriResolver,$,x)),new h({schema:R,schemaId:F,root:u,baseId:$})}return b.call(this,i,g)}}$e.resolveSchema=p;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(u,{baseId:f,schema:i,root:l}){var $;if((($=u.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const R of u.fragment.slice(1).split("/")){if(typeof i=="boolean")return;const F=i[(0,S.unescapeFragment)(R)];if(F===void 0)return;i=F;const x=typeof i=="object"&&i[this.opts.schemaId];!v.has(R)&&x&&(f=(0,m.resolveUrl)(this.opts.uriResolver,f,x))}let o;if(typeof i!="boolean"&&i.$ref&&!(0,S.schemaHasRulesButRef)(i,this.RULES)){const R=(0,m.resolveUrl)(this.opts.uriResolver,f,i.$ref);o=p.call(this,l,R)}const{schemaId:g}=this.opts;if(o=o||new h({schema:i,schemaId:g,root:l,baseId:f}),o.schema!==o.root.schema)return o}return $e}const kn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",On="Meta-schema for $data reference (JSON AnySchema extension proposal)",Tn="object",jn=["$data"],An={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},qn=!1,Cn={$id:kn,description:On,type:Tn,required:jn,properties:An,additionalProperties:qn};var We={},Ve={exports:{}},zt,$r;function gn(){if($r)return zt;$r=1;const r=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),s=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function I(E){let p="",v=0,b=0;for(b=0;b<E.length;b++)if(v=E[b].charCodeAt(0),v!==48){if(!(v>=48&&v<=57||v>=65&&v<=70||v>=97&&v<=102))return"";p+=E[b];break}for(b+=1;b<E.length;b++){if(v=E[b].charCodeAt(0),!(v>=48&&v<=57||v>=65&&v<=70||v>=97&&v<=102))return"";p+=E[b]}return p}const m=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function S(E){return E.length=0,!0}function c(E,p,v){if(E.length){const b=I(E);if(b!=="")p.push(b);else return v.error=!0,!1;E.length=0}return!0}function h(E){let p=0;const v={error:!1,address:"",zone:""},b=[],u=[];let f=!1,i=!1,l=c;for(let $=0;$<E.length;$++){const o=E[$];if(!(o==="["||o==="]"))if(o===":"){if(f===!0&&(i=!0),!l(u,b,v))break;if(++p>7){v.error=!0;break}$>0&&E[$-1]===":"&&(f=!0),b.push(":");continue}else if(o==="%"){if(!l(u,b,v))break;l=S}else{u.push(o);continue}}return u.length&&(l===S?v.zone=u.join(""):i?b.push(u.join("")):b.push(I(u))),v.address=b.join(""),v}function n(E){if(w(E,":")<2)return{host:E,isIPV6:!1};const p=h(E);if(p.error)return{host:E,isIPV6:!1};{let v=p.address,b=p.address;return p.zone&&(v+="%"+p.zone,b+="%25"+p.zone),{host:v,isIPV6:!0,escapedHost:b}}}function w(E,p){let v=0;for(let b=0;b<E.length;b++)E[b]===p&&v++;return v}function P(E){let p=E;const v=[];let b=-1,u=0;for(;u=p.length;){if(u===1){if(p===".")break;if(p==="/"){v.push("/");break}else{v.push(p);break}}else if(u===2){if(p[0]==="."){if(p[1]===".")break;if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&(p[1]==="."||p[1]==="/")){v.push("/");break}}else if(u===3&&p==="/.."){v.length!==0&&v.pop(),v.push("/");break}if(p[0]==="."){if(p[1]==="."){if(p[2]==="/"){p=p.slice(3);continue}}else if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&p[1]==="."){if(p[2]==="/"){p=p.slice(2);continue}else if(p[2]==="."&&p[3]==="/"){p=p.slice(3),v.length!==0&&v.pop();continue}}if((b=p.indexOf("/",1))===-1){v.push(p);break}else v.push(p.slice(0,b)),p=p.slice(b)}return v.join("")}function _(E,p){const v=p!==!0?escape:unescape;return E.scheme!==void 0&&(E.scheme=v(E.scheme)),E.userinfo!==void 0&&(E.userinfo=v(E.userinfo)),E.host!==void 0&&(E.host=v(E.host)),E.path!==void 0&&(E.path=v(E.path)),E.query!==void 0&&(E.query=v(E.query)),E.fragment!==void 0&&(E.fragment=v(E.fragment)),E}function N(E){const p=[];if(E.userinfo!==void 0&&(p.push(E.userinfo),p.push("@")),E.host!==void 0){let v=unescape(E.host);if(!s(v)){const b=n(v);b.isIPV6===!0?v=`[${b.escapedHost}]`:v=E.host}p.push(v)}return(typeof E.port=="number"||typeof E.port=="string")&&(p.push(":"),p.push(String(E.port))),p.length?p.join(""):void 0}return zt={nonSimpleDomain:m,recomposeAuthority:N,normalizeComponentEncoding:_,removeDotSegments:P,isIPv4:s,isUUID:r,normalizeIPv6:n,stringArrayToHexStripped:I},zt}var Kt,Er;function Fn(){if(Er)return Kt;Er=1;const{isUUID:r}=gn(),s=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,I=["http","https","ws","wss","urn","urn:uuid"];function m(o){return I.indexOf(o)!==-1}function S(o){return o.secure===!0?!0:o.secure===!1?!1:o.scheme?o.scheme.length===3&&(o.scheme[0]==="w"||o.scheme[0]==="W")&&(o.scheme[1]==="s"||o.scheme[1]==="S")&&(o.scheme[2]==="s"||o.scheme[2]==="S"):!1}function c(o){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o}function h(o){const g=String(o.scheme).toLowerCase()==="https";return(o.port===(g?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}function n(o){return o.secure=S(o),o.resourceName=(o.path||"/")+(o.query?"?"+o.query:""),o.path=void 0,o.query=void 0,o}function w(o){if((o.port===(S(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){const[g,R]=o.resourceName.split("?");o.path=g&&g!=="/"?g:void 0,o.query=R,o.resourceName=void 0}return o.fragment=void 0,o}function P(o,g){if(!o.path)return o.error="URN can not be parsed",o;const R=o.path.match(s);if(R){const F=g.scheme||o.scheme||"urn";o.nid=R[1].toLowerCase(),o.nss=R[2];const x=`${F}:${g.nid||o.nid}`,z=$(x);o.path=void 0,z&&(o=z.parse(o,g))}else o.error=o.error||"URN can not be parsed.";return o}function _(o,g){if(o.nid===void 0)throw new Error("URN without nid cannot be serialized");const R=g.scheme||o.scheme||"urn",F=o.nid.toLowerCase(),x=`${R}:${g.nid||F}`,z=$(x);z&&(o=z.serialize(o,g));const K=o,Y=o.nss;return K.path=`${F||g.nid}:${Y}`,g.skipEscape=!0,K}function N(o,g){const R=o;return R.uuid=R.nss,R.nss=void 0,!g.tolerant&&(!R.uuid||!r(R.uuid))&&(R.error=R.error||"UUID is not valid."),R}function E(o){const g=o;return g.nss=(o.uuid||"").toLowerCase(),g}const p={scheme:"http",domainHost:!0,parse:c,serialize:h},v={scheme:"https",domainHost:p.domainHost,parse:c,serialize:h},b={scheme:"ws",domainHost:!0,parse:n,serialize:w},u={scheme:"wss",domainHost:b.domainHost,parse:b.parse,serialize:b.serialize},l={http:p,https:v,ws:b,wss:u,urn:{scheme:"urn",parse:P,serialize:_,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:N,serialize:E,skipNormalize:!0}};Object.setPrototypeOf(l,null);function $(o){return o&&(l[o]||l[o.toLowerCase()])||void 0}return Kt={wsIsSecure:S,SCHEMES:l,isValidSchemeName:m,getSchemeHandler:$},Kt}var br;function Mn(){if(br)return Ve.exports;br=1;const{normalizeIPv6:r,removeDotSegments:s,recomposeAuthority:I,normalizeComponentEncoding:m,isIPv4:S,nonSimpleDomain:c}=gn(),{SCHEMES:h,getSchemeHandler:n}=Fn();function w(u,f){return typeof u=="string"?u=E(v(u,f),f):typeof u=="object"&&(u=v(E(u,f),f)),u}function P(u,f,i){const l=i?Object.assign({scheme:"null"},i):{scheme:"null"},$=_(v(u,l),v(f,l),l,!0);return l.skipEscape=!0,E($,l)}function _(u,f,i,l){const $={};return l||(u=v(E(u,i),i),f=v(E(f,i),i)),i=i||{},!i.tolerant&&f.scheme?($.scheme=f.scheme,$.userinfo=f.userinfo,$.host=f.host,$.port=f.port,$.path=s(f.path||""),$.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?($.userinfo=f.userinfo,$.host=f.host,$.port=f.port,$.path=s(f.path||""),$.query=f.query):(f.path?(f.path[0]==="/"?$.path=s(f.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?$.path="/"+f.path:u.path?$.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+f.path:$.path=f.path,$.path=s($.path)),$.query=f.query):($.path=u.path,f.query!==void 0?$.query=f.query:$.query=u.query),$.userinfo=u.userinfo,$.host=u.host,$.port=u.port),$.scheme=u.scheme),$.fragment=f.fragment,$}function N(u,f,i){return typeof u=="string"?(u=unescape(u),u=E(m(v(u,i),!0),{...i,skipEscape:!0})):typeof u=="object"&&(u=E(m(u,!0),{...i,skipEscape:!0})),typeof f=="string"?(f=unescape(f),f=E(m(v(f,i),!0),{...i,skipEscape:!0})):typeof f=="object"&&(f=E(m(f,!0),{...i,skipEscape:!0})),u.toLowerCase()===f.toLowerCase()}function E(u,f){const i={host:u.host,scheme:u.scheme,userinfo:u.userinfo,port:u.port,path:u.path,query:u.query,nid:u.nid,nss:u.nss,uuid:u.uuid,fragment:u.fragment,reference:u.reference,resourceName:u.resourceName,secure:u.secure,error:""},l=Object.assign({},f),$=[],o=n(l.scheme||i.scheme);o&&o.serialize&&o.serialize(i,l),i.path!==void 0&&(l.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),i.scheme!==void 0&&(i.path=i.path.split("%3A").join(":")))),l.reference!=="suffix"&&i.scheme&&$.push(i.scheme,":");const g=I(i);if(g!==void 0&&(l.reference!=="suffix"&&$.push("//"),$.push(g),i.path&&i.path[0]!=="/"&&$.push("/")),i.path!==void 0){let R=i.path;!l.absolutePath&&(!o||!o.absolutePath)&&(R=s(R)),g===void 0&&R[0]==="/"&&R[1]==="/"&&(R="/%2F"+R.slice(2)),$.push(R)}return i.query!==void 0&&$.push("?",i.query),i.fragment!==void 0&&$.push("#",i.fragment),$.join("")}const p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(u,f){const i=Object.assign({},f),l={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let $=!1;i.reference==="suffix"&&(i.scheme?u=i.scheme+":"+u:u="//"+u);const o=u.match(p);if(o){if(l.scheme=o[1],l.userinfo=o[3],l.host=o[4],l.port=parseInt(o[5],10),l.path=o[6]||"",l.query=o[7],l.fragment=o[8],isNaN(l.port)&&(l.port=o[5]),l.host)if(S(l.host)===!1){const F=r(l.host);l.host=F.host.toLowerCase(),$=F.isIPV6}else $=!0;l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&l.query===void 0&&!l.path?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");const g=n(i.scheme||l.scheme);if(!i.unicodeSupport&&(!g||!g.unicodeSupport)&&l.host&&(i.domainHost||g&&g.domainHost)&&$===!1&&c(l.host))try{l.host=URL.domainToASCII(l.host.toLowerCase())}catch(R){l.error=l.error||"Host's domain name can not be converted to ASCII: "+R}(!g||g&&!g.skipNormalize)&&(u.indexOf("%")!==-1&&(l.scheme!==void 0&&(l.scheme=unescape(l.scheme)),l.host!==void 0&&(l.host=unescape(l.host))),l.path&&(l.path=escape(unescape(l.path))),l.fragment&&(l.fragment=encodeURI(decodeURIComponent(l.fragment)))),g&&g.parse&&g.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}const b={SCHEMES:h,normalize:w,resolve:P,resolveComponent:_,equal:N,serialize:E,parse:v};return Ve.exports=b,Ve.exports.default=b,Ve.exports.fastUri=b,Ve.exports}var Sr;function Bn(){if(Sr)return We;Sr=1,Object.defineProperty(We,"__esModule",{value:!0});const r=Mn();return r.code='require("ajv/dist/runtime/uri").default',We.default=r,We}var Pr;function Dn(){return Pr||(Pr=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var s=qt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var I=te();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});const m=Gt(),S=Ct(),c=pn(),h=Jt(),n=te(),w=At(),P=Tt(),_=ie(),N=Cn,E=Bn(),p=(L,j)=>new RegExp(L,j);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),u={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},i=200;function l(L){var j,B,q,d,k,M,H,G,ne,Z,T,A,U,V,J,X,he,we,ge,pe,ce,me,_e,De,be;const Ae=L.strict,a=(j=L.code)===null||j===void 0?void 0:j.optimize,e=a===!0||a===void 0?1:a||0,t=(q=(B=L.code)===null||B===void 0?void 0:B.regExp)!==null&&q!==void 0?q:p,y=(d=L.uriResolver)!==null&&d!==void 0?d:E.default;return{strictSchema:(M=(k=L.strictSchema)!==null&&k!==void 0?k:Ae)!==null&&M!==void 0?M:!0,strictNumbers:(G=(H=L.strictNumbers)!==null&&H!==void 0?H:Ae)!==null&&G!==void 0?G:!0,strictTypes:(Z=(ne=L.strictTypes)!==null&&ne!==void 0?ne:Ae)!==null&&Z!==void 0?Z:"log",strictTuples:(A=(T=L.strictTuples)!==null&&T!==void 0?T:Ae)!==null&&A!==void 0?A:"log",strictRequired:(V=(U=L.strictRequired)!==null&&U!==void 0?U:Ae)!==null&&V!==void 0?V:!1,code:L.code?{...L.code,optimize:e,regExp:t}:{optimize:e,regExp:t},loopRequired:(J=L.loopRequired)!==null&&J!==void 0?J:i,loopEnum:(X=L.loopEnum)!==null&&X!==void 0?X:i,meta:(he=L.meta)!==null&&he!==void 0?he:!0,messages:(we=L.messages)!==null&&we!==void 0?we:!0,inlineRefs:(ge=L.inlineRefs)!==null&&ge!==void 0?ge:!0,schemaId:(pe=L.schemaId)!==null&&pe!==void 0?pe:"$id",addUsedSchema:(ce=L.addUsedSchema)!==null&&ce!==void 0?ce:!0,validateSchema:(me=L.validateSchema)!==null&&me!==void 0?me:!0,validateFormats:(_e=L.validateFormats)!==null&&_e!==void 0?_e:!0,unicodeRegExp:(De=L.unicodeRegExp)!==null&&De!==void 0?De:!0,int32range:(be=L.int32range)!==null&&be!==void 0?be:!0,uriResolver:y}}class ${constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...l(j)};const{es5:B,lines:q}=this.opts.code;this.scope=new n.ValueScope({scope:{},prefixes:b,es5:B,lines:q}),this.logger=Y(j.logger);const d=j.validateFormats;j.validateFormats=!1,this.RULES=(0,c.getRules)(),o.call(this,u,j,"NOT SUPPORTED"),o.call(this,f,j,"DEPRECATED","warn"),this._metaOpts=z.call(this),j.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&x.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),R.call(this),j.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:B,schemaId:q}=this.opts;let d=N;q==="id"&&(d={...N},d.id=d.$id,delete d.$id),B&&j&&this.addMetaSchema(d,d[q],!1)}defaultMeta(){const{meta:j,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[B]||j:void 0}validate(j,B){let q;if(typeof j=="string"){if(q=this.getSchema(j),!q)throw new Error(`no schema with key or ref "${j}"`)}else q=this.compile(j);const d=q(B);return"$async"in q||(this.errors=q.errors),d}compile(j,B){const q=this._addSchema(j,B);return q.validate||this._compileSchemaEnv(q)}compileAsync(j,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:q}=this.opts;return d.call(this,j,B);async function d(Z,T){await k.call(this,Z.$schema);const A=this._addSchema(Z,T);return A.validate||M.call(this,A)}async function k(Z){Z&&!this.getSchema(Z)&&await d.call(this,{$ref:Z},!0)}async function M(Z){try{return this._compileSchemaEnv(Z)}catch(T){if(!(T instanceof S.default))throw T;return H.call(this,T),await G.call(this,T.missingSchema),M.call(this,Z)}}function H({missingSchema:Z,missingRef:T}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${T} cannot be resolved`)}async function G(Z){const T=await ne.call(this,Z);this.refs[Z]||await k.call(this,T.$schema),this.refs[Z]||this.addSchema(T,Z,B)}async function ne(Z){const T=this._loading[Z];if(T)return T;try{return await(this._loading[Z]=q(Z))}finally{delete this._loading[Z]}}}addSchema(j,B,q,d=this.opts.validateSchema){if(Array.isArray(j)){for(const M of j)this.addSchema(M,void 0,q,d);return this}let k;if(typeof j=="object"){const{schemaId:M}=this.opts;if(k=j[M],k!==void 0&&typeof k!="string")throw new Error(`schema ${M} must be string`)}return B=(0,w.normalizeId)(B||k),this._checkUnique(B),this.schemas[B]=this._addSchema(j,q,B,d,!0),this}addMetaSchema(j,B,q=this.opts.validateSchema){return this.addSchema(j,B,!0,q),this}validateSchema(j,B){if(typeof j=="boolean")return!0;let q;if(q=j.$schema,q!==void 0&&typeof q!="string")throw new Error("$schema must be a string");if(q=q||this.opts.defaultMeta||this.defaultMeta(),!q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(q,j);if(!d&&B){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return d}getSchema(j){let B;for(;typeof(B=g.call(this,j))=="string";)j=B;if(B===void 0){const{schemaId:q}=this.opts,d=new h.SchemaEnv({schema:{},schemaId:q});if(B=h.resolveSchema.call(this,d,j),!B)return;this.refs[j]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=g.call(this,j);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const B=j;this._cache.delete(B);let q=j[this.opts.schemaId];return q&&(q=(0,w.normalizeId)(q),delete this.schemas[q],delete this.refs[q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const B of j)this.addKeyword(B);return this}addKeyword(j,B){let q;if(typeof j=="string")q=j,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=q);else if(typeof j=="object"&&B===void 0){if(B=j,q=B.keyword,Array.isArray(q)&&!q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,q,B),!B)return(0,_.eachItem)(q,k=>de.call(this,k)),this;Se.call(this,B);const d={...B,type:(0,P.getJSONTypes)(B.type),schemaType:(0,P.getJSONTypes)(B.schemaType)};return(0,_.eachItem)(q,d.type.length===0?k=>de.call(this,k,d):k=>d.type.forEach(M=>de.call(this,k,d,M))),this}getKeyword(j){const B=this.RULES.all[j];return typeof B=="object"?B.definition:!!B}removeKeyword(j){const{RULES:B}=this;delete B.keywords[j],delete B.all[j];for(const q of B.rules){const d=q.rules.findIndex(k=>k.keyword===j);d>=0&&q.rules.splice(d,1)}return this}addFormat(j,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[j]=B,this}errorsText(j=this.errors,{separator:B=", ",dataVar:q="data"}={}){return!j||j.length===0?"No errors":j.map(d=>`${q}${d.instancePath} ${d.message}`).reduce((d,k)=>d+B+k)}$dataMetaSchema(j,B){const q=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const d of B){const k=d.split("/").slice(1);let M=j;for(const H of k)M=M[H];for(const H in q){const G=q[H];if(typeof G!="object")continue;const{$data:ne}=G.definition,Z=M[H];ne&&Z&&(M[H]=Re(Z))}}return j}_removeAllSchemas(j,B){for(const q in j){const d=j[q];(!B||B.test(q))&&(typeof d=="string"?delete j[q]:d&&!d.meta&&(this._cache.delete(d.schema),delete j[q]))}}_addSchema(j,B,q,d=this.opts.validateSchema,k=this.opts.addUsedSchema){let M;const{schemaId:H}=this.opts;if(typeof j=="object")M=j[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(j);if(G!==void 0)return G;q=(0,w.normalizeId)(M||q);const ne=w.getSchemaRefs.call(this,j,q);return G=new h.SchemaEnv({schema:j,schemaId:H,meta:B,baseId:q,localRefs:ne}),this._cache.set(G.schema,G),k&&!q.startsWith("#")&&(q&&this._checkUnique(q),this.refs[q]=G),d&&this.validateSchema(j,!0),G}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):h.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const B=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,j)}finally{this.opts=B}}}$.ValidationError=m.default,$.MissingRefError=S.default,r.default=$;function o(L,j,B,q="error"){for(const d in L){const k=d;k in j&&this.logger[q](`${B}: option ${d}. ${L[k]}`)}}function g(L){return L=(0,w.normalizeId)(L),this.schemas[L]||this.refs[L]}function R(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const j in L)this.addSchema(L[j],j)}function F(){for(const L in this.opts.formats){const j=this.opts.formats[L];j&&this.addFormat(L,j)}}function x(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in L){const B=L[j];B.keyword||(B.keyword=j),this.addKeyword(B)}}function z(){const L={...this.opts};for(const j of v)delete L[j];return L}const K={log(){},warn(){},error(){}};function Y(L){if(L===!1)return K;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function re(L,j){const{RULES:B}=this;if((0,_.eachItem)(L,q=>{if(B.keywords[q])throw new Error(`Keyword ${q} is already defined`);if(!W.test(q))throw new Error(`Keyword ${q} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function de(L,j,B){var q;const d=j?.post;if(B&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let M=d?k.post:k.rules.find(({type:G})=>G===B);if(M||(M={type:B,rules:[]},k.rules.push(M)),k.keywords[L]=!0,!j)return;const H={keyword:L,definition:{...j,type:(0,P.getJSONTypes)(j.type),schemaType:(0,P.getJSONTypes)(j.schemaType)}};j.before?Ee.call(this,M,H,j.before):M.rules.push(H),k.all[L]=H,(q=j.implements)===null||q===void 0||q.forEach(G=>this.addKeyword(G))}function Ee(L,j,B){const q=L.rules.findIndex(d=>d.keyword===B);q>=0?L.rules.splice(q,0,j):(L.rules.push(j),this.logger.warn(`rule ${B} is not defined`))}function Se(L){let{metaSchema:j}=L;j!==void 0&&(L.$data&&this.opts.$data&&(j=Re(j)),L.validateSchema=this.compile(j,!0))}const oe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(L){return{anyOf:[L,oe]}}})(Mt)),Mt}var Ye={},Xe={},Qe={},Ir;function Un(){if(Ir)return Qe;Ir=1,Object.defineProperty(Qe,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Qe.default=r,Qe}var Te={},Rr;function xn(){if(Rr)return Te;Rr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.callRef=Te.getValidate=void 0;const r=Ct(),s=Ie(),I=te(),m=je(),S=Jt(),c=ie(),h={keyword:"$ref",schemaType:"string",code(P){const{gen:_,schema:N,it:E}=P,{baseId:p,schemaEnv:v,validateName:b,opts:u,self:f}=E,{root:i}=v;if((N==="#"||N==="#/")&&p===i.baseId)return $();const l=S.resolveRef.call(f,i,p,N);if(l===void 0)throw new r.default(E.opts.uriResolver,p,N);if(l instanceof S.SchemaEnv)return o(l);return g(l);function $(){if(v===i)return w(P,b,v,v.$async);const R=_.scopeValue("root",{ref:i});return w(P,(0,I._)`${R}.validate`,i,i.$async)}function o(R){const F=n(P,R);w(P,F,R,R.$async)}function g(R){const F=_.scopeValue("schema",u.code.source===!0?{ref:R,code:(0,I.stringify)(R)}:{ref:R}),x=_.name("valid"),z=P.subschema({schema:R,dataTypes:[],schemaPath:I.nil,topSchemaRef:F,errSchemaPath:N},x);P.mergeEvaluated(z),P.ok(x)}}};function n(P,_){const{gen:N}=P;return _.validate?N.scopeValue("validate",{ref:_.validate}):(0,I._)`${N.scopeValue("wrapper",{ref:_})}.validate`}Te.getValidate=n;function w(P,_,N,E){const{gen:p,it:v}=P,{allErrors:b,schemaEnv:u,opts:f}=v,i=f.passContext?m.default.this:I.nil;E?l():$();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const R=p.let("valid");p.try(()=>{p.code((0,I._)`await ${(0,s.callValidateCode)(P,_,i)}`),g(_),b||p.assign(R,!0)},F=>{p.if((0,I._)`!(${F} instanceof ${v.ValidationError})`,()=>p.throw(F)),o(F),b||p.assign(R,!1)}),P.ok(R)}function $(){P.result((0,s.callValidateCode)(P,_,i),()=>g(_),()=>o(_))}function o(R){const F=(0,I._)`${R}.errors`;p.assign(m.default.vErrors,(0,I._)`${m.default.vErrors} === null ? ${F} : ${m.default.vErrors}.concat(${F})`),p.assign(m.default.errors,(0,I._)`${m.default.vErrors}.length`)}function g(R){var F;if(!v.opts.unevaluated)return;const x=(F=N?.validate)===null||F===void 0?void 0:F.evaluated;if(v.props!==!0)if(x&&!x.dynamicProps)x.props!==void 0&&(v.props=c.mergeEvaluated.props(p,x.props,v.props));else{const z=p.var("props",(0,I._)`${R}.evaluated.props`);v.props=c.mergeEvaluated.props(p,z,v.props,I.Name)}if(v.items!==!0)if(x&&!x.dynamicItems)x.items!==void 0&&(v.items=c.mergeEvaluated.items(p,x.items,v.items));else{const z=p.var("items",(0,I._)`${R}.evaluated.items`);v.items=c.mergeEvaluated.items(p,z,v.items,I.Name)}}}return Te.callRef=w,Te.default=h,Te}var Nr;function Vn(){if(Nr)return Xe;Nr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const r=Un(),s=xn(),I=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,s.default];return Xe.default=I,Xe}var Ze={},et={},kr;function Ln(){if(kr)return et;kr=1,Object.defineProperty(et,"__esModule",{value:!0});const r=te(),s=r.operators,I={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},m={message:({keyword:c,schemaCode:h})=>(0,r.str)`must be ${I[c].okStr} ${h}`,params:({keyword:c,schemaCode:h})=>(0,r._)`{comparison: ${I[c].okStr}, limit: ${h}}`},S={keyword:Object.keys(I),type:"number",schemaType:"number",$data:!0,error:m,code(c){const{keyword:h,data:n,schemaCode:w}=c;c.fail$data((0,r._)`${n} ${I[h].fail} ${w} || isNaN(${n})`)}};return et.default=S,et}var tt={},Or;function zn(){if(Or)return tt;Or=1,Object.defineProperty(tt,"__esModule",{value:!0});const r=te(),I={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:m})=>(0,r.str)`must be multiple of ${m}`,params:({schemaCode:m})=>(0,r._)`{multipleOf: ${m}}`},code(m){const{gen:S,data:c,schemaCode:h,it:n}=m,w=n.opts.multipleOfPrecision,P=S.let("res"),_=w?(0,r._)`Math.abs(Math.round(${P}) - ${P}) > 1e-${w}`:(0,r._)`${P} !== parseInt(${P})`;m.fail$data((0,r._)`(${h} === 0 || (${P} = ${c}/${h}, ${_}))`)}};return tt.default=I,tt}var rt={},nt={},Tr;function Kn(){if(Tr)return nt;Tr=1,Object.defineProperty(nt,"__esModule",{value:!0});function r(s){const I=s.length;let m=0,S=0,c;for(;S<I;)m++,c=s.charCodeAt(S++),c>=55296&&c<=56319&&S<I&&(c=s.charCodeAt(S),(c&64512)===56320&&S++);return m}return nt.default=r,r.code='require("ajv/dist/runtime/ucs2length").default',nt}var jr;function Hn(){if(jr)return rt;jr=1,Object.defineProperty(rt,"__esModule",{value:!0});const r=te(),s=ie(),I=Kn(),S={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:h}){const n=c==="maxLength"?"more":"fewer";return(0,r.str)`must NOT have ${n} than ${h} characters`},params:({schemaCode:c})=>(0,r._)`{limit: ${c}}`},code(c){const{keyword:h,data:n,schemaCode:w,it:P}=c,_=h==="maxLength"?r.operators.GT:r.operators.LT,N=P.opts.unicode===!1?(0,r._)`${n}.length`:(0,r._)`${(0,s.useFunc)(c.gen,I.default)}(${n})`;c.fail$data((0,r._)`${N} ${_} ${w}`)}};return rt.default=S,rt}var it={},Ar;function Gn(){if(Ar)return it;Ar=1,Object.defineProperty(it,"__esModule",{value:!0});const r=Ie(),s=te(),m={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:S})=>(0,s.str)`must match pattern "${S}"`,params:({schemaCode:S})=>(0,s._)`{pattern: ${S}}`},code(S){const{data:c,$data:h,schema:n,schemaCode:w,it:P}=S,_=P.opts.unicodeRegExp?"u":"",N=h?(0,s._)`(new RegExp(${w}, ${_}))`:(0,r.usePattern)(S,n);S.fail$data((0,s._)`!${N}.test(${c})`)}};return it.default=m,it}var st={},qr;function Jn(){if(qr)return st;qr=1,Object.defineProperty(st,"__esModule",{value:!0});const r=te(),I={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:m,schemaCode:S}){const c=m==="maxProperties"?"more":"fewer";return(0,r.str)`must NOT have ${c} than ${S} properties`},params:({schemaCode:m})=>(0,r._)`{limit: ${m}}`},code(m){const{keyword:S,data:c,schemaCode:h}=m,n=S==="maxProperties"?r.operators.GT:r.operators.LT;m.fail$data((0,r._)`Object.keys(${c}).length ${n} ${h}`)}};return st.default=I,st}var ot={},Cr;function Wn(){if(Cr)return ot;Cr=1,Object.defineProperty(ot,"__esModule",{value:!0});const r=Ie(),s=te(),I=ie(),S={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:c}})=>(0,s.str)`must have required property '${c}'`,params:({params:{missingProperty:c}})=>(0,s._)`{missingProperty: ${c}}`},code(c){const{gen:h,schema:n,schemaCode:w,data:P,$data:_,it:N}=c,{opts:E}=N;if(!_&&n.length===0)return;const p=n.length>=E.loopRequired;if(N.allErrors?v():b(),E.strictRequired){const i=c.parentSchema.properties,{definedProperties:l}=c.it;for(const $ of n)if(i?.[$]===void 0&&!l.has($)){const o=N.schemaEnv.baseId+N.errSchemaPath,g=`required property "${$}" is not defined at "${o}" (strictRequired)`;(0,I.checkStrictMode)(N,g,N.opts.strictRequired)}}function v(){if(p||_)c.block$data(s.nil,u);else for(const i of n)(0,r.checkReportMissingProp)(c,i)}function b(){const i=h.let("missing");if(p||_){const l=h.let("valid",!0);c.block$data(l,()=>f(i,l)),c.ok(l)}else h.if((0,r.checkMissingProp)(c,n,i)),(0,r.reportMissingProp)(c,i),h.else()}function u(){h.forOf("prop",w,i=>{c.setParams({missingProperty:i}),h.if((0,r.noPropertyInData)(h,P,i,E.ownProperties),()=>c.error())})}function f(i,l){c.setParams({missingProperty:i}),h.forOf(i,w,()=>{h.assign(l,(0,r.propertyInData)(h,P,i,E.ownProperties)),h.if((0,s.not)(l),()=>{c.error(),h.break()})},s.nil)}}};return ot.default=S,ot}var at={},Fr;function Yn(){if(Fr)return at;Fr=1,Object.defineProperty(at,"__esModule",{value:!0});const r=te(),I={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:m,schemaCode:S}){const c=m==="maxItems"?"more":"fewer";return(0,r.str)`must NOT have ${c} than ${S} items`},params:({schemaCode:m})=>(0,r._)`{limit: ${m}}`},code(m){const{keyword:S,data:c,schemaCode:h}=m,n=S==="maxItems"?r.operators.GT:r.operators.LT;m.fail$data((0,r._)`${c}.length ${n} ${h}`)}};return at.default=I,at}var ut={},ct={},Mr;function Wt(){if(Mr)return ct;Mr=1,Object.defineProperty(ct,"__esModule",{value:!0});const r=yn();return r.code='require("ajv/dist/runtime/equal").default',ct.default=r,ct}var Br;function Xn(){if(Br)return ut;Br=1,Object.defineProperty(ut,"__esModule",{value:!0});const r=Tt(),s=te(),I=ie(),m=Wt(),c={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:h,j:n}})=>(0,s.str)`must NOT have duplicate items (items ## ${n} and ${h} are identical)`,params:({params:{i:h,j:n}})=>(0,s._)`{i: ${h}, j: ${n}}`},code(h){const{gen:n,data:w,$data:P,schema:_,parentSchema:N,schemaCode:E,it:p}=h;if(!P&&!_)return;const v=n.let("valid"),b=N.items?(0,r.getSchemaTypes)(N.items):[];h.block$data(v,u,(0,s._)`${E} === false`),h.ok(v);function u(){const $=n.let("i",(0,s._)`${w}.length`),o=n.let("j");h.setParams({i:$,j:o}),n.assign(v,!0),n.if((0,s._)`${$} > 1`,()=>(f()?i:l)($,o))}function f(){return b.length>0&&!b.some($=>$==="object"||$==="array")}function i($,o){const g=n.name("item"),R=(0,r.checkDataTypes)(b,g,p.opts.strictNumbers,r.DataType.Wrong),F=n.const("indices",(0,s._)`{}`);n.for((0,s._)`;${$}--;`,()=>{n.let(g,(0,s._)`${w}[${$}]`),n.if(R,(0,s._)`continue`),b.length>1&&n.if((0,s._)`typeof ${g} == "string"`,(0,s._)`${g} += "_"`),n.if((0,s._)`typeof ${F}[${g}] == "number"`,()=>{n.assign(o,(0,s._)`${F}[${g}]`),h.error(),n.assign(v,!1).break()}).code((0,s._)`${F}[${g}] = ${$}`)})}function l($,o){const g=(0,I.useFunc)(n,m.default),R=n.name("outer");n.label(R).for((0,s._)`;${$}--;`,()=>n.for((0,s._)`${o} = ${$}; ${o}--;`,()=>n.if((0,s._)`${g}(${w}[${$}], ${w}[${o}])`,()=>{h.error(),n.assign(v,!1).break(R)})))}}};return ut.default=c,ut}var lt={},Dr;function Qn(){if(Dr)return lt;Dr=1,Object.defineProperty(lt,"__esModule",{value:!0});const r=te(),s=ie(),I=Wt(),S={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:c})=>(0,r._)`{allowedValue: ${c}}`},code(c){const{gen:h,data:n,$data:w,schemaCode:P,schema:_}=c;w||_&&typeof _=="object"?c.fail$data((0,r._)`!${(0,s.useFunc)(h,I.default)}(${n}, ${P})`):c.fail((0,r._)`${_} !== ${n}`)}};return lt.default=S,lt}var ft={},Ur;function Zn(){if(Ur)return ft;Ur=1,Object.defineProperty(ft,"__esModule",{value:!0});const r=te(),s=ie(),I=Wt(),S={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:c})=>(0,r._)`{allowedValues: ${c}}`},code(c){const{gen:h,data:n,$data:w,schema:P,schemaCode:_,it:N}=c;if(!w&&P.length===0)throw new Error("enum must have non-empty array");const E=P.length>=N.opts.loopEnum;let p;const v=()=>p??(p=(0,s.useFunc)(h,I.default));let b;if(E||w)b=h.let("valid"),c.block$data(b,u);else{if(!Array.isArray(P))throw new Error("ajv implementation error");const i=h.const("vSchema",_);b=(0,r.or)(...P.map((l,$)=>f(i,$)))}c.pass(b);function u(){h.assign(b,!1),h.forOf("v",_,i=>h.if((0,r._)`${v()}(${n}, ${i})`,()=>h.assign(b,!0).break()))}function f(i,l){const $=P[l];return typeof $=="object"&&$!==null?(0,r._)`${v()}(${n}, ${i}[${l}])`:(0,r._)`${n} === ${$}`}}};return ft.default=S,ft}var xr;function ei(){if(xr)return Ze;xr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const r=Ln(),s=zn(),I=Hn(),m=Gn(),S=Jn(),c=Wn(),h=Yn(),n=Xn(),w=Qn(),P=Zn(),_=[r.default,s.default,I.default,m.default,S.default,c.default,h.default,n.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},w.default,P.default];return Ze.default=_,Ze}var dt={},Me={},Vr;function _n(){if(Vr)return Me;Vr=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.validateAdditionalItems=void 0;const r=te(),s=ie(),m={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>(0,r.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,r._)`{limit: ${c}}`},code(c){const{parentSchema:h,it:n}=c,{items:w}=h;if(!Array.isArray(w)){(0,s.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}S(c,w)}};function S(c,h){const{gen:n,schema:w,data:P,keyword:_,it:N}=c;N.items=!0;const E=n.const("len",(0,r._)`${P}.length`);if(w===!1)c.setParams({len:h.length}),c.pass((0,r._)`${E} <= ${h.length}`);else if(typeof w=="object"&&!(0,s.alwaysValidSchema)(N,w)){const v=n.var("valid",(0,r._)`${E} <= ${h.length}`);n.if((0,r.not)(v),()=>p(v)),c.ok(v)}function p(v){n.forRange("i",h.length,E,b=>{c.subschema({keyword:_,dataProp:b,dataPropType:s.Type.Num},v),N.allErrors||n.if((0,r.not)(v),()=>n.break())})}}return Me.validateAdditionalItems=S,Me.default=m,Me}var ht={},Be={},Lr;function vn(){if(Lr)return Be;Lr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.validateTuple=void 0;const r=te(),s=ie(),I=Ie(),m={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(c){const{schema:h,it:n}=c;if(Array.isArray(h))return S(c,"additionalItems",h);n.items=!0,!(0,s.alwaysValidSchema)(n,h)&&c.ok((0,I.validateArray)(c))}};function S(c,h,n=c.schema){const{gen:w,parentSchema:P,data:_,keyword:N,it:E}=c;b(P),E.opts.unevaluated&&n.length&&E.items!==!0&&(E.items=s.mergeEvaluated.items(w,n.length,E.items));const p=w.name("valid"),v=w.const("len",(0,r._)`${_}.length`);n.forEach((u,f)=>{(0,s.alwaysValidSchema)(E,u)||(w.if((0,r._)`${v} > ${f}`,()=>c.subschema({keyword:N,schemaProp:f,dataProp:f},p)),c.ok(p))});function b(u){const{opts:f,errSchemaPath:i}=E,l=n.length,$=l===u.minItems&&(l===u.maxItems||u[h]===!1);if(f.strictTuples&&!$){const o=`"${N}" is ${l}-tuple, but minItems or maxItems/${h} are not specified or different at path "${i}"`;(0,s.checkStrictMode)(E,o,f.strictTuples)}}}return Be.validateTuple=S,Be.default=m,Be}var zr;function ti(){if(zr)return ht;zr=1,Object.defineProperty(ht,"__esModule",{value:!0});const r=vn(),s={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:I=>(0,r.validateTuple)(I,"items")};return ht.default=s,ht}var pt={},Kr;function ri(){if(Kr)return pt;Kr=1,Object.defineProperty(pt,"__esModule",{value:!0});const r=te(),s=ie(),I=Ie(),m=_n(),c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:h}})=>(0,r.str)`must NOT have more than ${h} items`,params:({params:{len:h}})=>(0,r._)`{limit: ${h}}`},code(h){const{schema:n,parentSchema:w,it:P}=h,{prefixItems:_}=w;P.items=!0,!(0,s.alwaysValidSchema)(P,n)&&(_?(0,m.validateAdditionalItems)(h,_):h.ok((0,I.validateArray)(h)))}};return pt.default=c,pt}var mt={},Hr;function ni(){if(Hr)return mt;Hr=1,Object.defineProperty(mt,"__esModule",{value:!0});const r=te(),s=ie(),m={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:S,max:c}})=>c===void 0?(0,r.str)`must contain at least ${S} valid item(s)`:(0,r.str)`must contain at least ${S} and no more than ${c} valid item(s)`,params:({params:{min:S,max:c}})=>c===void 0?(0,r._)`{minContains: ${S}}`:(0,r._)`{minContains: ${S}, maxContains: ${c}}`},code(S){const{gen:c,schema:h,parentSchema:n,data:w,it:P}=S;let _,N;const{minContains:E,maxContains:p}=n;P.opts.next?(_=E===void 0?1:E,N=p):_=1;const v=c.const("len",(0,r._)`${w}.length`);if(S.setParams({min:_,max:N}),N===void 0&&_===0){(0,s.checkStrictMode)(P,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(N!==void 0&&_>N){(0,s.checkStrictMode)(P,'"minContains" > "maxContains" is always invalid'),S.fail();return}if((0,s.alwaysValidSchema)(P,h)){let l=(0,r._)`${v} >= ${_}`;N!==void 0&&(l=(0,r._)`${l} && ${v} <= ${N}`),S.pass(l);return}P.items=!0;const b=c.name("valid");N===void 0&&_===1?f(b,()=>c.if(b,()=>c.break())):_===0?(c.let(b,!0),N!==void 0&&c.if((0,r._)`${w}.length > 0`,u)):(c.let(b,!1),u()),S.result(b,()=>S.reset());function u(){const l=c.name("_valid"),$=c.let("count",0);f(l,()=>c.if(l,()=>i($)))}function f(l,$){c.forRange("i",0,v,o=>{S.subschema({keyword:"contains",dataProp:o,dataPropType:s.Type.Num,compositeRule:!0},l),$()})}function i(l){c.code((0,r._)`${l}++`),N===void 0?c.if((0,r._)`${l} >= ${_}`,()=>c.assign(b,!0).break()):(c.if((0,r._)`${l} > ${N}`,()=>c.assign(b,!1).break()),_===1?c.assign(b,!0):c.if((0,r._)`${l} >= ${_}`,()=>c.assign(b,!0)))}}};return mt.default=m,mt}var Ht={},Gr;function ii(){return Gr||(Gr=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const s=te(),I=ie(),m=Ie();r.error={message:({params:{property:w,depsCount:P,deps:_}})=>{const N=P===1?"property":"properties";return(0,s.str)`must have ${N} ${_} when property ${w} is present`},params:({params:{property:w,depsCount:P,deps:_,missingProperty:N}})=>(0,s._)`{property: ${w},
    missingProperty: ${N},
    depsCount: ${P},
    deps: ${_}}`};const S={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(w){const[P,_]=c(w);h(w,P),n(w,_)}};function c({schema:w}){const P={},_={};for(const N in w){if(N==="__proto__")continue;const E=Array.isArray(w[N])?P:_;E[N]=w[N]}return[P,_]}function h(w,P=w.schema){const{gen:_,data:N,it:E}=w;if(Object.keys(P).length===0)return;const p=_.let("missing");for(const v in P){const b=P[v];if(b.length===0)continue;const u=(0,m.propertyInData)(_,N,v,E.opts.ownProperties);w.setParams({property:v,depsCount:b.length,deps:b.join(", ")}),E.allErrors?_.if(u,()=>{for(const f of b)(0,m.checkReportMissingProp)(w,f)}):(_.if((0,s._)`${u} && (${(0,m.checkMissingProp)(w,b,p)})`),(0,m.reportMissingProp)(w,p),_.else())}}r.validatePropertyDeps=h;function n(w,P=w.schema){const{gen:_,data:N,keyword:E,it:p}=w,v=_.name("valid");for(const b in P)(0,I.alwaysValidSchema)(p,P[b])||(_.if((0,m.propertyInData)(_,N,b,p.opts.ownProperties),()=>{const u=w.subschema({keyword:E,schemaProp:b},v);w.mergeValidEvaluated(u,v)},()=>_.var(v,!0)),w.ok(v))}r.validateSchemaDeps=n,r.default=S})(Ht)),Ht}var yt={},Jr;function si(){if(Jr)return yt;Jr=1,Object.defineProperty(yt,"__esModule",{value:!0});const r=te(),s=ie(),m={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:S})=>(0,r._)`{propertyName: ${S.propertyName}}`},code(S){const{gen:c,schema:h,data:n,it:w}=S;if((0,s.alwaysValidSchema)(w,h))return;const P=c.name("valid");c.forIn("key",n,_=>{S.setParams({propertyName:_}),S.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},P),c.if((0,r.not)(P),()=>{S.error(!0),w.allErrors||c.break()})}),S.ok(P)}};return yt.default=m,yt}var gt={},Wr;function wn(){if(Wr)return gt;Wr=1,Object.defineProperty(gt,"__esModule",{value:!0});const r=Ie(),s=te(),I=je(),m=ie(),c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:h})=>(0,s._)`{additionalProperty: ${h.additionalProperty}}`},code(h){const{gen:n,schema:w,parentSchema:P,data:_,errsCount:N,it:E}=h;if(!N)throw new Error("ajv implementation error");const{allErrors:p,opts:v}=E;if(E.props=!0,v.removeAdditional!=="all"&&(0,m.alwaysValidSchema)(E,w))return;const b=(0,r.allSchemaProperties)(P.properties),u=(0,r.allSchemaProperties)(P.patternProperties);f(),h.ok((0,s._)`${N} === ${I.default.errors}`);function f(){n.forIn("key",_,g=>{!b.length&&!u.length?$(g):n.if(i(g),()=>$(g))})}function i(g){let R;if(b.length>8){const F=(0,m.schemaRefOrVal)(E,P.properties,"properties");R=(0,r.isOwnProperty)(n,F,g)}else b.length?R=(0,s.or)(...b.map(F=>(0,s._)`${g} === ${F}`)):R=s.nil;return u.length&&(R=(0,s.or)(R,...u.map(F=>(0,s._)`${(0,r.usePattern)(h,F)}.test(${g})`))),(0,s.not)(R)}function l(g){n.code((0,s._)`delete ${_}[${g}]`)}function $(g){if(v.removeAdditional==="all"||v.removeAdditional&&w===!1){l(g);return}if(w===!1){h.setParams({additionalProperty:g}),h.error(),p||n.break();return}if(typeof w=="object"&&!(0,m.alwaysValidSchema)(E,w)){const R=n.name("valid");v.removeAdditional==="failing"?(o(g,R,!1),n.if((0,s.not)(R),()=>{h.reset(),l(g)})):(o(g,R),p||n.if((0,s.not)(R),()=>n.break()))}}function o(g,R,F){const x={keyword:"additionalProperties",dataProp:g,dataPropType:m.Type.Str};F===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),h.subschema(x,R)}}};return gt.default=c,gt}var _t={},Yr;function oi(){if(Yr)return _t;Yr=1,Object.defineProperty(_t,"__esModule",{value:!0});const r=qt(),s=Ie(),I=ie(),m=wn(),S={keyword:"properties",type:"object",schemaType:"object",code(c){const{gen:h,schema:n,parentSchema:w,data:P,it:_}=c;_.opts.removeAdditional==="all"&&w.additionalProperties===void 0&&m.default.code(new r.KeywordCxt(_,m.default,"additionalProperties"));const N=(0,s.allSchemaProperties)(n);for(const u of N)_.definedProperties.add(u);_.opts.unevaluated&&N.length&&_.props!==!0&&(_.props=I.mergeEvaluated.props(h,(0,I.toHash)(N),_.props));const E=N.filter(u=>!(0,I.alwaysValidSchema)(_,n[u]));if(E.length===0)return;const p=h.name("valid");for(const u of E)v(u)?b(u):(h.if((0,s.propertyInData)(h,P,u,_.opts.ownProperties)),b(u),_.allErrors||h.else().var(p,!0),h.endIf()),c.it.definedProperties.add(u),c.ok(p);function v(u){return _.opts.useDefaults&&!_.compositeRule&&n[u].default!==void 0}function b(u){c.subschema({keyword:"properties",schemaProp:u,dataProp:u},p)}}};return _t.default=S,_t}var vt={},Xr;function ai(){if(Xr)return vt;Xr=1,Object.defineProperty(vt,"__esModule",{value:!0});const r=Ie(),s=te(),I=ie(),m=ie(),S={keyword:"patternProperties",type:"object",schemaType:"object",code(c){const{gen:h,schema:n,data:w,parentSchema:P,it:_}=c,{opts:N}=_,E=(0,r.allSchemaProperties)(n),p=E.filter($=>(0,I.alwaysValidSchema)(_,n[$]));if(E.length===0||p.length===E.length&&(!_.opts.unevaluated||_.props===!0))return;const v=N.strictSchema&&!N.allowMatchingProperties&&P.properties,b=h.name("valid");_.props!==!0&&!(_.props instanceof s.Name)&&(_.props=(0,m.evaluatedPropsToName)(h,_.props));const{props:u}=_;f();function f(){for(const $ of E)v&&i($),_.allErrors?l($):(h.var(b,!0),l($),h.if(b))}function i($){for(const o in v)new RegExp($).test(o)&&(0,I.checkStrictMode)(_,`property ${o} matches pattern ${$} (use allowMatchingProperties)`)}function l($){h.forIn("key",w,o=>{h.if((0,s._)`${(0,r.usePattern)(c,$)}.test(${o})`,()=>{const g=p.includes($);g||c.subschema({keyword:"patternProperties",schemaProp:$,dataProp:o,dataPropType:m.Type.Str},b),_.opts.unevaluated&&u!==!0?h.assign((0,s._)`${u}[${o}]`,!0):!g&&!_.allErrors&&h.if((0,s.not)(b),()=>h.break())})})}}};return vt.default=S,vt}var wt={},Qr;function ui(){if(Qr)return wt;Qr=1,Object.defineProperty(wt,"__esModule",{value:!0});const r=ie(),s={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(I){const{gen:m,schema:S,it:c}=I;if((0,r.alwaysValidSchema)(c,S)){I.fail();return}const h=m.name("valid");I.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},h),I.failResult(h,()=>I.reset(),()=>I.error())},error:{message:"must NOT be valid"}};return wt.default=s,wt}var $t={},Zr;function ci(){if(Zr)return $t;Zr=1,Object.defineProperty($t,"__esModule",{value:!0});const s={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ie().validateUnion,error:{message:"must match a schema in anyOf"}};return $t.default=s,$t}var Et={},en;function li(){if(en)return Et;en=1,Object.defineProperty(Et,"__esModule",{value:!0});const r=te(),s=ie(),m={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:S})=>(0,r._)`{passingSchemas: ${S.passing}}`},code(S){const{gen:c,schema:h,parentSchema:n,it:w}=S;if(!Array.isArray(h))throw new Error("ajv implementation error");if(w.opts.discriminator&&n.discriminator)return;const P=h,_=c.let("valid",!1),N=c.let("passing",null),E=c.name("_valid");S.setParams({passing:N}),c.block(p),S.result(_,()=>S.reset(),()=>S.error(!0));function p(){P.forEach((v,b)=>{let u;(0,s.alwaysValidSchema)(w,v)?c.var(E,!0):u=S.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},E),b>0&&c.if((0,r._)`${E} && ${_}`).assign(_,!1).assign(N,(0,r._)`[${N}, ${b}]`).else(),c.if(E,()=>{c.assign(_,!0),c.assign(N,b),u&&S.mergeEvaluated(u,r.Name)})})}}};return Et.default=m,Et}var bt={},tn;function fi(){if(tn)return bt;tn=1,Object.defineProperty(bt,"__esModule",{value:!0});const r=ie(),s={keyword:"allOf",schemaType:"array",code(I){const{gen:m,schema:S,it:c}=I;if(!Array.isArray(S))throw new Error("ajv implementation error");const h=m.name("valid");S.forEach((n,w)=>{if((0,r.alwaysValidSchema)(c,n))return;const P=I.subschema({keyword:"allOf",schemaProp:w},h);I.ok(h),I.mergeEvaluated(P)})}};return bt.default=s,bt}var St={},rn;function di(){if(rn)return St;rn=1,Object.defineProperty(St,"__esModule",{value:!0});const r=te(),s=ie(),m={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:c})=>(0,r.str)`must match "${c.ifClause}" schema`,params:({params:c})=>(0,r._)`{failingKeyword: ${c.ifClause}}`},code(c){const{gen:h,parentSchema:n,it:w}=c;n.then===void 0&&n.else===void 0&&(0,s.checkStrictMode)(w,'"if" without "then" and "else" is ignored');const P=S(w,"then"),_=S(w,"else");if(!P&&!_)return;const N=h.let("valid",!0),E=h.name("_valid");if(p(),c.reset(),P&&_){const b=h.let("ifClause");c.setParams({ifClause:b}),h.if(E,v("then",b),v("else",b))}else P?h.if(E,v("then")):h.if((0,r.not)(E),v("else"));c.pass(N,()=>c.error(!0));function p(){const b=c.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},E);c.mergeEvaluated(b)}function v(b,u){return()=>{const f=c.subschema({keyword:b},E);h.assign(N,E),c.mergeValidEvaluated(f,N),u?h.assign(u,(0,r._)`${b}`):c.setParams({ifClause:b})}}}};function S(c,h){const n=c.schema[h];return n!==void 0&&!(0,s.alwaysValidSchema)(c,n)}return St.default=m,St}var Pt={},nn;function hi(){if(nn)return Pt;nn=1,Object.defineProperty(Pt,"__esModule",{value:!0});const r=ie(),s={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:I,parentSchema:m,it:S}){m.if===void 0&&(0,r.checkStrictMode)(S,`"${I}" without "if" is ignored`)}};return Pt.default=s,Pt}var sn;function pi(){if(sn)return dt;sn=1,Object.defineProperty(dt,"__esModule",{value:!0});const r=_n(),s=ti(),I=vn(),m=ri(),S=ni(),c=ii(),h=si(),n=wn(),w=oi(),P=ai(),_=ui(),N=ci(),E=li(),p=fi(),v=di(),b=hi();function u(f=!1){const i=[_.default,N.default,E.default,p.default,v.default,b.default,h.default,n.default,c.default,w.default,P.default];return f?i.push(s.default,m.default):i.push(r.default,I.default),i.push(S.default),i}return dt.default=u,dt}var It={},Rt={},on;function mi(){if(on)return Rt;on=1,Object.defineProperty(Rt,"__esModule",{value:!0});const r=te(),I={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:m})=>(0,r.str)`must match format "${m}"`,params:({schemaCode:m})=>(0,r._)`{format: ${m}}`},code(m,S){const{gen:c,data:h,$data:n,schema:w,schemaCode:P,it:_}=m,{opts:N,errSchemaPath:E,schemaEnv:p,self:v}=_;if(!N.validateFormats)return;n?b():u();function b(){const f=c.scopeValue("formats",{ref:v.formats,code:N.code.formats}),i=c.const("fDef",(0,r._)`${f}[${P}]`),l=c.let("fType"),$=c.let("format");c.if((0,r._)`typeof ${i} == "object" && !(${i} instanceof RegExp)`,()=>c.assign(l,(0,r._)`${i}.type || "string"`).assign($,(0,r._)`${i}.validate`),()=>c.assign(l,(0,r._)`"string"`).assign($,i)),m.fail$data((0,r.or)(o(),g()));function o(){return N.strictSchema===!1?r.nil:(0,r._)`${P} && !${$}`}function g(){const R=p.$async?(0,r._)`(${i}.async ? await ${$}(${h}) : ${$}(${h}))`:(0,r._)`${$}(${h})`,F=(0,r._)`(typeof ${$} == "function" ? ${R} : ${$}.test(${h}))`;return(0,r._)`${$} && ${$} !== true && ${l} === ${S} && !${F}`}}function u(){const f=v.formats[w];if(!f){o();return}if(f===!0)return;const[i,l,$]=g(f);i===S&&m.pass(R());function o(){if(N.strictSchema===!1){v.logger.warn(F());return}throw new Error(F());function F(){return`unknown format "${w}" ignored in schema at path "${E}"`}}function g(F){const x=F instanceof RegExp?(0,r.regexpCode)(F):N.code.formats?(0,r._)`${N.code.formats}${(0,r.getProperty)(w)}`:void 0,z=c.scopeValue("formats",{key:w,ref:F,code:x});return typeof F=="object"&&!(F instanceof RegExp)?[F.type||"string",F.validate,(0,r._)`${z}.validate`]:["string",F,z]}function R(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!p.$async)throw new Error("async format in sync schema");return(0,r._)`await ${$}(${h})`}return typeof l=="function"?(0,r._)`${$}(${h})`:(0,r._)`${$}.test(${h})`}}}};return Rt.default=I,Rt}var an;function yi(){if(an)return It;an=1,Object.defineProperty(It,"__esModule",{value:!0});const s=[mi().default];return It.default=s,It}var Fe={},un;function gi(){return un||(un=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.contentVocabulary=Fe.metadataVocabulary=void 0,Fe.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Fe.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Fe}var cn;function _i(){if(cn)return Ye;cn=1,Object.defineProperty(Ye,"__esModule",{value:!0});const r=Vn(),s=ei(),I=pi(),m=yi(),S=gi(),c=[r.default,s.default,(0,I.default)(),m.default,S.metadataVocabulary,S.contentVocabulary];return Ye.default=c,Ye}var Nt={},Le={},ln;function vi(){if(ln)return Le;ln=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.DiscrError=void 0;var r;return(function(s){s.Tag="tag",s.Mapping="mapping"})(r||(Le.DiscrError=r={})),Le}var fn;function wi(){if(fn)return Nt;fn=1,Object.defineProperty(Nt,"__esModule",{value:!0});const r=te(),s=vi(),I=Jt(),m=Ct(),S=ie(),h={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:n,tagName:w}})=>n===s.DiscrError.Tag?`tag "${w}" must be string`:`value of tag "${w}" must be in oneOf`,params:({params:{discrError:n,tag:w,tagName:P}})=>(0,r._)`{error: ${n}, tag: ${P}, tagValue: ${w}}`},code(n){const{gen:w,data:P,schema:_,parentSchema:N,it:E}=n,{oneOf:p}=N;if(!E.opts.discriminator)throw new Error("discriminator: requires discriminator option");const v=_.propertyName;if(typeof v!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!p)throw new Error("discriminator: requires oneOf keyword");const b=w.let("valid",!1),u=w.const("tag",(0,r._)`${P}${(0,r.getProperty)(v)}`);w.if((0,r._)`typeof ${u} == "string"`,()=>f(),()=>n.error(!1,{discrError:s.DiscrError.Tag,tag:u,tagName:v})),n.ok(b);function f(){const $=l();w.if(!1);for(const o in $)w.elseIf((0,r._)`${u} === ${o}`),w.assign(b,i($[o]));w.else(),n.error(!1,{discrError:s.DiscrError.Mapping,tag:u,tagName:v}),w.endIf()}function i($){const o=w.name("valid"),g=n.subschema({keyword:"oneOf",schemaProp:$},o);return n.mergeEvaluated(g,r.Name),o}function l(){var $;const o={},g=F(N);let R=!0;for(let K=0;K<p.length;K++){let Y=p[K];if(Y?.$ref&&!(0,S.schemaHasRulesButRef)(Y,E.self.RULES)){const re=Y.$ref;if(Y=I.resolveRef.call(E.self,E.schemaEnv.root,E.baseId,re),Y instanceof I.SchemaEnv&&(Y=Y.schema),Y===void 0)throw new m.default(E.opts.uriResolver,E.baseId,re)}const W=($=Y?.properties)===null||$===void 0?void 0:$[v];if(typeof W!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${v}"`);R=R&&(g||F(Y)),x(W,K)}if(!R)throw new Error(`discriminator: "${v}" must be required`);return o;function F({required:K}){return Array.isArray(K)&&K.includes(v)}function x(K,Y){if(K.const)z(K.const,Y);else if(K.enum)for(const W of K.enum)z(W,Y);else throw new Error(`discriminator: "properties/${v}" must have "const" or "enum"`)}function z(K,Y){if(typeof K!="string"||K in o)throw new Error(`discriminator: "${v}" values must be unique strings`);o[K]=Y}}}};return Nt.default=h,Nt}const $i="http://json-schema.org/draft-07/schema#",Ei="http://json-schema.org/draft-07/schema#",bi="Core schema meta-schema",Si={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Pi=["object","boolean"],Ii={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ri={$schema:$i,$id:Ei,title:bi,definitions:Si,type:Pi,properties:Ii,default:!0};var dn;function ji(){return dn||(dn=1,(function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.MissingRefError=s.ValidationError=s.CodeGen=s.Name=s.nil=s.stringify=s.str=s._=s.KeywordCxt=s.Ajv=void 0;const I=Dn(),m=_i(),S=wi(),c=Ri,h=["/properties"],n="http://json-schema.org/draft-07/schema";class w extends I.default{_addVocabularies(){super._addVocabularies(),m.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(S.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(c,h):c;this.addMetaSchema(v,n,!1),this.refs["http://json-schema.org/schema"]=n}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(n)?n:void 0)}}s.Ajv=w,r.exports=s=w,r.exports.Ajv=w,Object.defineProperty(s,"__esModule",{value:!0}),s.default=w;var P=qt();Object.defineProperty(s,"KeywordCxt",{enumerable:!0,get:function(){return P.KeywordCxt}});var _=te();Object.defineProperty(s,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(s,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(s,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(s,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(s,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var N=Gt();Object.defineProperty(s,"ValidationError",{enumerable:!0,get:function(){return N.default}});var E=Ct();Object.defineProperty(s,"MissingRefError",{enumerable:!0,get:function(){return E.default}})})(Ke,Ke.exports)),Ke.exports}var kt={exports:{}},hn;function Ai(){return hn||(hn=1,(function(r,s){Object.defineProperty(s,"__esModule",{value:!0});const I={},m={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:_=>{var N;const E=(N=_?.max)!==null&&N!==void 0?N:2;return()=>Math.floor(Math.random()*E)},seq:_=>{var N;const E=(N=_?.name)!==null&&N!==void 0?N:"";return I[E]||(I[E]=0),()=>I[E]++}},S=Object.assign(c,{DEFAULTS:m});function c(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(_,N,E){if(!E.opts.useDefaults||E.compositeRule)return()=>!0;const p={};for(const b in _)p[b]=h(_[b]);const v=E.opts.useDefaults==="empty";return b=>{for(const u in _)(b[u]===void 0||v&&(b[u]===null||b[u]===""))&&(b[u]=p[u]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function h(_){return typeof _=="object"?n(_):w(_)}function n({func:_,args:N}){const E=m[_];return P(_,E),E(N)}function w(_=""){const N=m[_];return P(_,N),N()}function P(_,N){if(!N)throw new Error(`invalid "dynamicDefaults" keyword property value: ${_}`)}s.default=S,r.exports=S})(kt,kt.exports)),kt.exports}export{Ni as a,Ti as b,Ai as c,ki as g,ji as r};
